<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Examples of FFTrees • FFTrees</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Examples of FFTrees">
<meta property="og:description" content="FFTrees">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FFTrees</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/FFTrees_accuracy_statistics.html">Accuracy statistics in FFTrees</a>
    </li>
    <li>
      <a href="../articles/FFTrees_examples.html">Examples of FFTrees</a>
    </li>
    <li>
      <a href="../articles/FFTrees_function.html">Creating FFTs with FFTrees()</a>
    </li>
    <li>
      <a href="../articles/FFTrees_heart.html">Tutorial: Creating FFTs for heart disease</a>
    </li>
    <li>
      <a href="../articles/FFTrees_mytree.html">Manually specifying FFTs</a>
    </li>
    <li>
      <a href="../articles/FFTrees_plot.html">Visualising FFTs</a>
    </li>
    <li>
      <a href="../articles/guide.html">Overview: Creating FFTs with FFTrees</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ndphillips/FFTrees/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Examples of FFTrees</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Phillips and Hansjörg Neth</h4>
            
            <h4 data-toc-skip class="date">2024-05-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ndphillips/FFTrees/blob/HEAD/vignettes/FFTrees_examples.Rmd" class="external-link"><code>vignettes/FFTrees_examples.Rmd</code></a></small>
      <div class="hidden name"><code>FFTrees_examples.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="examples-of-ffts-with-fftrees">Examples of FFTs with <strong>FFTrees</strong><a class="anchor" aria-label="anchor" href="#examples-of-ffts-with-fftrees"></a>
</h2>
<p>This vignette illustrates how to construct fast-and-frugal trees
(FFTs) for additional datasets included in the <strong>FFTrees</strong>
package. <span class="citation">(See Phillips et al., 2017, for a
comparison across 10 real-world datasets.)</span></p>
<div class="section level3">
<h3 id="mushrooms-data">Mushrooms data<a class="anchor" aria-label="anchor" href="#mushrooms-data"></a>
</h3>
<p><img src="mushrooms.jpg" width="225px" style="display: block; margin: auto;"></p>
<p>The <code>mushrooms</code> dataset contains data about mushrooms (see
<code><a href="../reference/mushrooms.html">?mushrooms</a></code> for details). The goal of our model is to
predict which mushrooms are <code>poisonous</code> based on 22 cues
ranging from the mushroom’s odor, color, etc.</p>
<p>Here are the first few rows and a subset of 10 potential predictors
of the <code>mushrooms</code> data:</p>
<table class="table">
<caption>
<strong>Table 1</strong>: Binary criterion
variable <code>poisonous</code> and 10 potential predictors in the
<code>mushrooms</code> data.</caption>
<colgroup>
<col width="10%">
<col width="7%">
<col width="9%">
<col width="7%">
<col width="8%">
<col width="5%">
<col width="7%">
<col width="8%">
<col width="9%">
<col width="8%">
<col width="11%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">poisonous</th>
<th align="left">cshape</th>
<th align="left">csurface</th>
<th align="left">ccolor</th>
<th align="left">bruises</th>
<th align="left">odor</th>
<th align="left">vcolor</th>
<th align="left">ringnum</th>
<th align="left">ringtype</th>
<th align="left">sporepc</th>
<th align="left">population</th>
<th align="left">habitat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">TRUE</td>
<td align="left">x</td>
<td align="left">s</td>
<td align="left">n</td>
<td align="left">TRUE</td>
<td align="left">p</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">k</td>
<td align="left">s</td>
<td align="left">u</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">x</td>
<td align="left">s</td>
<td align="left">y</td>
<td align="left">TRUE</td>
<td align="left">a</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">n</td>
<td align="left">n</td>
<td align="left">g</td>
</tr>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">b</td>
<td align="left">s</td>
<td align="left">w</td>
<td align="left">TRUE</td>
<td align="left">l</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">n</td>
<td align="left">n</td>
<td align="left">m</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="left">x</td>
<td align="left">y</td>
<td align="left">w</td>
<td align="left">TRUE</td>
<td align="left">p</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">k</td>
<td align="left">s</td>
<td align="left">u</td>
</tr>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">x</td>
<td align="left">s</td>
<td align="left">g</td>
<td align="left">FALSE</td>
<td align="left">n</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">e</td>
<td align="left">n</td>
<td align="left">a</td>
<td align="left">g</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">x</td>
<td align="left">y</td>
<td align="left">y</td>
<td align="left">TRUE</td>
<td align="left">a</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">k</td>
<td align="left">n</td>
<td align="left">g</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="creating-ffts">Creating FFTs<a class="anchor" aria-label="anchor" href="#creating-ffts"></a>
</h4>
<p>Let’s create some trees using <code><a href="../reference/FFTrees.html">FFTrees()</a></code>! We’ll use the
<code>train.p = .50</code> argument to split the original data into a
<span class="math inline">\(50\)</span>% training set and a <span class="math inline">\(50\)</span>% testing set:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create FFTs from the mushrooms data: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># for replicability of the training / test data split</span></span>
<span></span>
<span><span class="va">mushrooms_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">poisonous</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                         data <span class="op">=</span> <span class="va">mushrooms</span>,</span>
<span>                         train.p <span class="op">=</span> <span class="fl">.50</span>,   <span class="co"># split data into 50:50 training/test subsets</span></span>
<span>                         main <span class="op">=</span> <span class="st">"Mushrooms"</span>,</span>
<span>                         decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Safe"</span>, <span class="st">"Poison"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Here’s basic information about the best performing FFT (Tree #1):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print information about the best tree (during training):</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mushrooms_fft</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Mushrooms</span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFTrees </span></span></span>
<span><span class="co">#&gt; - Trees: 6 fast-and-frugal trees predicting <span style="text-decoration: underline;">poisonous</span></span></span>
<span><span class="co">#&gt; - Cost of outcomes:  hi = 0,  fa = 1,  mi = 1,  cr = 0</span></span>
<span><span class="co">#&gt; - Cost of cues: </span></span>
<span><span class="co">#&gt;     cshape   csurface     ccolor    bruises       odor    gattach     gspace </span></span>
<span><span class="co">#&gt;          1          1          1          1          1          1          1 </span></span>
<span><span class="co">#&gt;      gsize     gcolor     sshape      sroot    ssaring    ssbring    scaring </span></span>
<span><span class="co">#&gt;          1          1          1          1          1          1          1 </span></span>
<span><span class="co">#&gt;    scbring      vtype     vcolor    ringnum   ringtype    sporepc population </span></span>
<span><span class="co">#&gt;          1          1          1          1          1          1          1 </span></span>
<span><span class="co">#&gt;    habitat </span></span>
<span><span class="co">#&gt;          1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFT #1: Definition</span></span></span>
<span><span class="co">#&gt; [1] If odor != {f,s,y,p,c,m}, decide Safe.</span></span>
<span><span class="co">#&gt; [2] If sporepc = {h,w,r}, decide Poison, otherwise, decide Safe.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFT #1: </span><span style="color: #005FAF; text-decoration: underline;">Training</span><span style="color: #005FAF;"> Accuracy</span></span></span>
<span><span class="co"><span style="color: #005FAF;">#&gt; </span>Training data: N = 4,062, Pos (+) = 1,958 (48%) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |          | True +   | True -   |   Totals:</span></span>
<span><span class="co">#&gt; |----------|----------|----------|</span></span>
<span><span class="co">#&gt; | Decide + | <span style="color: #767676;">hi</span> <span style="color: #00AF00;">1,683</span> | <span style="color: #767676;">fa</span>     <span style="color: #D70000;">0</span> |     1,683</span></span>
<span><span class="co">#&gt; | Decide - | <span style="color: #767676;">mi</span>   <span style="color: #D70000;">275</span> | <span style="color: #767676;">cr</span> <span style="color: #00AF00;">2,104</span> |     2,379</span></span>
<span><span class="co">#&gt; |----------|----------|----------|</span></span>
<span><span class="co">#&gt;   Totals:       1,958      2,104   N = <span style="text-decoration: underline;">4,062</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; acc  = 93.2%   ppv  = 100.0%   npv  = 88.4%</span></span>
<span><span class="co">#&gt; bacc = 93.0%   sens = 86.0%   spec = 100.0%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFT #1: </span><span style="color: #005FAF; text-decoration: underline;">Training</span><span style="color: #005FAF;"> Speed, Frugality, and Cost</span></span></span>
<span><span class="co"><span style="color: #005FAF;">#&gt; </span>mcu = 1.47,  pci = 0.93</span></span>
<span><span class="co">#&gt; cost_dec = 0.068,  cost_cue = 1.469,  cost = 1.537</span></span></code></pre>
<p><a href="https://goo.gl/B7YDuC" class="external-link">Cool beans</a>.</p>
</div>
<div class="section level4">
<h4 id="visualizing-cue-accuracies">Visualizing cue accuracies<a class="anchor" aria-label="anchor" href="#visualizing-cue-accuracies"></a>
</h4>
<p>Let’s look at the individual cue training accuracies with
<code>plot(fft, what = "cues")</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot the cue accuracies of an FFTrees object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mushrooms_fft</span>, what <span class="op">=</span> <span class="st">"cues"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #585858;">Plotting cue training statistics:</span></span></span>
<span><span class="co"><span style="color: #585858;">#&gt; </span><span style="color: #767676;">— Cue accuracies ranked by bacc</span></span></span>
<span><span class="co"><span style="color: #767676;">#&gt; </span></span></span></code></pre>
<p><img src="FFTrees_examples_files/figure-html/fft-mushrooms-1-plot-cues-1.png" width="450px" style="display: block; margin: auto;"></p>
<p>It looks like the cues <code>oder</code> and <code>sporepc</code> are
the best predictors. In fact, the single cue <code>odor</code> has a hit
rate of <span class="math inline">\(97\)</span>% and a false alarm rate
of nearly <span class="math inline">\(0\)</span>%! Based on this, we
should expect the final trees to use just these cues.</p>
</div>
<div class="section level4">
<h4 id="visualizing-fft-performance">Visualizing FFT performance<a class="anchor" aria-label="anchor" href="#visualizing-fft-performance"></a>
</h4>
<p>Now let’s plot the performance of the best training tree when applied
to the test data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot the best FFT (for test data): </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mushrooms_fft</span>, data <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/fft-mushrooms-1-plot-1.png" width="580px" style="display: block; margin: auto;"></p>
<p>Indeed, it looks like the best tree only uses the <code>odor</code>
and <code>sporepc</code> cues. In our test dataset, the tree had a
<em>false alarm rate</em> of <span class="math inline">\(0\)</span>%
(<span class="math inline">\(1 -\)</span> specificity), and a
<em>sensitivity</em> (aka. hit rate) of <span class="math inline">\(85\)</span>%.</p>
</div>
<div class="section level4">
<h4 id="trading-off-prediction-errors">Trading off prediction errors<a class="anchor" aria-label="anchor" href="#trading-off-prediction-errors"></a>
</h4>
<p>When considering the implications of our predictions, the fact that
our FFT incurs many misses, but no false alarms, is problematic: Given
our current task, failing to detect poisonous mushrooms has usually more
serious consequences than falsely classifying some as poisonous. To
change the balance between both possible errors, we can select another
tree from the set of FFTs. In this case, FFT #2 would use the same two
cues, but alter their exit structure so that our prediction incurs false
alarms, but no misses. Alternatively, we could re-generate a new set of
FFTs with a higher sensitivity weight value (e.g., increase the default
value of <code>sens.w = .50</code> to <code>sens.w = .67</code>) and
optimize the FFTs’ weighted accuracy <code>wacc</code>.</p>
</div>
<div class="section level4">
<h4 id="an-alternative-fft">An alternative FFT<a class="anchor" aria-label="anchor" href="#an-alternative-fft"></a>
</h4>
<p>Let’s assume that a famous mushroom expert insists that our FFT is
using the wrong cues. According to her, the best predictors for
poisonous mushrooms are <code>ringtype</code> and <code>ringnum</code>.
To test this, we build a set of FFTs from only these cues and check how
they perform relative to our initial tree:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create trees using only the ringtype and ringnum cues: </span></span>
<span><span class="va">mushrooms_ring_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">poisonous</span> <span class="op">~</span> <span class="va">ringtype</span> <span class="op">+</span> <span class="va">ringnum</span>,</span>
<span>                              data <span class="op">=</span> <span class="va">mushrooms</span>,</span>
<span>                              train.p <span class="op">=</span> <span class="fl">.50</span>,</span>
<span>                              main <span class="op">=</span> <span class="st">"Mushrooms (ring cues)"</span>,</span>
<span>                              decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Safe"</span>, <span class="st">"Poison"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Again, we plot the best training tree, when predicting the cases in
the test dataset:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting the best training FFT (for test data): </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mushrooms_ring_fft</span>, data <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/fft-mushrooms-2-plot-1.png" width="580px" style="display: block; margin: auto;"></p>
<!-- Conclusion: -->
<p>As we can see, this tree (in <code>mushrooms_ring_fft</code>) has
both sensitivity and specificity values of around <span class="math inline">\(80\)</span>%, but does not perform as well as our
earlier one (in <code>mushrooms_fft</code>). This suggests that we
should discard the expert’s advice and primarily rely on
the <code>odor</code> and <code>sporepc</code> cues.</p>
</div>
</div>
<div class="section level3">
<h3 id="iris-v-data">Iris.v data<a class="anchor" aria-label="anchor" href="#iris-v-data"></a>
</h3>
<p><img src="virginica.jpg" width="225px" style="display: block; margin: auto;"></p>
<p>The <code>iris.v</code> dataset contains data about 150 flowers (see
<code><a href="../reference/iris.v.html">?iris.v</a></code>). Our goal is to predict which flowers are of the
class <em>Virginica</em>. In this example, we’ll create trees using the
entire dataset (without splitting the available data into explicit
training vs. test subsets), so that we are really fitting the data,
rather than engaging in genuine prediction:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create FFTrees object for iris data:</span></span>
<span><span class="va">iris_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">virginica</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                    data <span class="op">=</span> <span class="va">iris.v</span>,</span>
<span>                    main <span class="op">=</span> <span class="st">"Iris"</span>,</span>
<span>                    decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Not-Vir"</span>, <span class="st">"Vir"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The <strong>FFTrees</strong> package provides various functions to
inspect the <code>FFTrees</code> object <code>iris_fft</code>. For
summary information on the best training tree, we can print the
<code>FTrees</code> object (by evaluating <code>iris_fft</code> or
<code>print(iris_fft)</code>). Alternatively, we could visualize the
tree (via <code>plot(iris_fft)</code>) or summarize the
<code>FFTrees</code> object (via <code>summary(iris_fft)</code>):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect resulting FFTs: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span>    <span class="co"># summarize best training tree</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span>     <span class="co"># visualize best training tree</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span>  <span class="co"># summarize FFTrees object</span></span></code></pre></div>
<p>However, let’s first take a look at the individual training cue
accuracies…</p>
<div class="section level4">
<h4 id="visualizing-cue-accuracies-1">Visualizing cue accuracies<a class="anchor" aria-label="anchor" href="#visualizing-cue-accuracies-1"></a>
</h4>
<p>We can plot the training cue accuracies during training by specifying
<code>what = "cues"</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot cue values: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span>, what <span class="op">=</span> <span class="st">"cues"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #585858;">Plotting cue training statistics:</span></span></span>
<span><span class="co"><span style="color: #585858;">#&gt; </span><span style="color: #767676;">— Cue accuracies ranked by bacc</span></span></span>
<span><span class="co"><span style="color: #767676;">#&gt; </span></span></span></code></pre>
<p><img src="FFTrees_examples_files/figure-html/iris-plot-cues-1.png" width="450px" style="display: block; margin: auto;"></p>
<p>It looks like the two cues <code>pet.len</code>
and <code>pet.wid</code> are the best predictors for this dataset. Based
on this insight, we should expect the final trees will likely use one or
both of these cues.</p>
</div>
<div class="section level4">
<h4 id="visualizing-fft-performance-1">Visualizing FFT performance<a class="anchor" aria-label="anchor" href="#visualizing-fft-performance-1"></a>
</h4>
<p>Now let’s visualize the best tree:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot best FFT: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/iris-plot-fft-1.png" width="580px" style="display: block; margin: auto;"></p>
<p>Indeed, it turns out that the best tree only uses
the <code>pet.len</code> and <code>pet.wid</code> cues (in that order).
For this data, the fitted tree exhibits a performance with a sensitivity
of 100% and a specificity of 94%.</p>
</div>
<div class="section level4">
<h4 id="viewing-alternative-ffts">Viewing alternative FFTs<a class="anchor" aria-label="anchor" href="#viewing-alternative-ffts"></a>
</h4>
<p>Now, this tree did quite well, but what if someone wanted a tree with
the lowest possible false alarm rate? If we inspect the ROC plot in the
bottom right corner of the figure, we see that Tree #2 has a specificity
close to 100%. Let’s plot this tree:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot FFT #2: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span>, tree <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/iris-plot-fft-2-1.png" width="580px" style="display: block; margin: auto;"></p>
<p>As we can see, this tree does indeed have a higher specificity
(of 98%), but this increase comes at a cost of a lower sensitivity
(of 90%). Such trade-offs between conflicting measures are inevitable
when fitting and predicting real-world data. Importantly, using FFTs and
the <strong>FFTrees</strong> package help us to render such trade-offs
more transparent.</p>
</div>
</div>
<div class="section level3">
<h3 id="titanic-data">Titanic data<a class="anchor" aria-label="anchor" href="#titanic-data"></a>
</h3>
<p>For examples that predict people’s survival of the <em>Titanic</em>
disaster (by growing FFTs for the <code>titanic</code> data), see the <a href="FFTrees_plot.html">Visualizing FFTs</a> vignette.</p>
</div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<!-- Table of all vignettes: -->
<p>Here is a complete list of the vignettes available in the
<strong>FFTrees</strong> package:</p>
<table class="table">
<colgroup>
<col width="3%">
<col width="36%">
<col width="59%">
</colgroup>
<thead><tr class="header">
<th align="right"></th>
<th align="left">Vignette</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right"></td>
<td align="left"><a href="guide.html">Main guide: FFTrees
overview</a></td>
<td align="left">An overview of the <strong>FFTrees</strong>
package</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left"><a href="FFTrees_heart.html">Tutorial: FFTs for heart
disease</a></td>
<td align="left">An example of using <code><a href="../reference/FFTrees.html">FFTrees()</a></code> to model
heart disease diagnosis</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left"><a href="FFTrees_accuracy_statistics.html">Accuracy
statistics</a></td>
<td align="left">Definitions of accuracy statistics used throughout the
package</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left"><a href="FFTrees_function.html">Creating FFTs with
FFTrees()</a></td>
<td align="left">Details on the main <code><a href="../reference/FFTrees.html">FFTrees()</a></code>
function</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left"><a href="FFTrees_mytree.html">Manually specifying
FFTs</a></td>
<td align="left">How to directly create FFTs without using the built-in
algorithms</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left"><a href="FFTrees_plot.html">Visualizing FFTs</a></td>
<td align="left">Plotting <code>FFTrees</code> objects, from full trees
to icon arrays</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left"><a href="FFTrees_examples.html">Examples of
FFTs</a></td>
<td align="left">Examples of FFTs from different datasets contained in
the package</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<!-- eof. -->
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-phillips2017FFTrees" class="csl-entry">
Phillips, N. D., Neth, H., Woike, J. K., &amp; Gaissmaier, W. (2017).
<span class="nocase">FFTrees: A toolbox to create, visualize, and
evaluate fast-and-frugal decision trees</span>. <em>Judgment and
Decision Making</em>, <em>12</em>(4), 344–368. <a href="https://doi.org/10.1017/S1930297500006239" class="external-link">https://doi.org/10.1017/S1930297500006239</a>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nathaniel Phillips, Hansjoerg Neth, Jan Woike, Wolfgang Gaissmaier.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
