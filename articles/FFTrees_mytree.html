<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Manually specifying FFTs • FFTrees</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manually specifying FFTs">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FFTrees</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/FFTrees_accuracy_statistics.html">Accuracy statistics in FFTrees</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_examples.html">Examples of FFTrees</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_function.html">Creating FFTs with FFTrees()</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_heart.html">Tutorial: Creating FFTs for heart disease</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_mytree.html">Manually specifying FFTs</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_plot.html">Visualising FFTs</a></li>
    <li><a class="dropdown-item" href="../articles/guide.html">Overview: Creating FFTs with FFTrees</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ndphillips/FFTrees/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Manually specifying FFTs</h1>
                        <h4 data-toc-skip class="author">Hansjörg Neth
and Nathaniel Phillips</h4>
            
            <h4 data-toc-skip class="date">2025-09-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ndphillips/FFTrees/blob/master/vignettes/FFTrees_mytree.Rmd" class="external-link"><code>vignettes/FFTrees_mytree.Rmd</code></a></small>
      <div class="d-none name"><code>FFTrees_mytree.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="manually-specifying-ffts">Manually specifying FFTs<a class="anchor" aria-label="anchor" href="#manually-specifying-ffts"></a>
</h2>
<p>We usually create fast-and-frugal trees (FFTs) from data by using the
<code><a href="../reference/FFTrees.html">FFTrees()</a></code> function (see the <a href="guide.html">Main
guide: FFTrees overview</a> and the vignette on <a href="FFTrees_function.html">Creating FFTs with FFTrees()</a> for
instructions). However, we occasionally may want to design and evaluate
specific FFTs (e.g., to test a hypothesis or include or exclude some
variables based on theoretical considerations).</p>
<p>There are two ways to manually define fast-and-frugal trees with the
<code><a href="../reference/FFTrees.html">FFTrees()</a></code> function:</p>
<ol style="list-style-type: decimal">
<li><p>as a sentence using the <code>my.tree</code> argument (the easier
way), or</p></li>
<li><p>as a data frame using the <code>tree.definitions</code> argument
(the harder way).</p></li>
</ol>
<!-- Role of 'train' vs. 'test' data with manually defined FFTs: --><p>Both of these methods require some data to evaluate the performance
of FFTs, but will bypass the tree construction algorithms built into the
<strong>FFTrees</strong> package. As manually created FFTs are not
optimized for specific data, the key difference between fitting and
predicting disappears for such FFTs. Although we can still use two sets
of ‘train’ vs. ‘test’ data, a manually defined FFT is not fitted and
hence should not be expected to perform systematically better on ‘train’
data than on ‘test’ data.</p>
<div class="section level3">
<h3 id="using-my-tree">1. Using <code>my.tree</code><a class="anchor" aria-label="anchor" href="#using-my-tree"></a>
</h3>
<p>The first method for manually defining an FFT is to use the
<code>my.tree</code> argument, where <code>my.tree</code> is a sentence
describing a (single) FFT. When this argument is specified in
<code><a href="../reference/FFTrees.html">FFTrees()</a></code>, the function — or rather its auxiliary
<code><a href="../reference/fftrees_wordstofftrees.html">fftrees_wordstofftrees()</a></code> function — attempts to interpret
the verbal description and convert it into a valid definition of an FFT
(as part of an <code>FFTrees</code> object).</p>
<p>For example, let’s use the <code>heartdisease</code> data to find out
how some predictor variables (e.g., <code>sex</code>, <code>age</code>,
etc.) predict the criterion variable (<code>diagnosis</code>):</p>
<table class="table">
<caption>
<strong>Table 1</strong>: Five cues and the binary criterion
variable <code>diagnosis</code> for the first cases of the
<code>heartdisease</code> data.</caption>
<thead><tr class="header">
<th align="right">sex</th>
<th align="right">age</th>
<th align="left">thal</th>
<th align="left">cp</th>
<th align="right">ca</th>
<th align="left">diagnosis</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">63</td>
<td align="left">fd</td>
<td align="left">ta</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">67</td>
<td align="left">normal</td>
<td align="left">a</td>
<td align="right">3</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">67</td>
<td align="left">rd</td>
<td align="left">a</td>
<td align="right">2</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">37</td>
<td align="left">normal</td>
<td align="left">np</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">41</td>
<td align="left">normal</td>
<td align="left">aa</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">56</td>
<td align="left">normal</td>
<td align="left">aa</td>
<td align="right">0</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
<!-- Verbal description of an FFT: --><p>Here’s how we could verbally describe an FFT by using the first three
cues in conditional sentences:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">in_words</span> <span class="op">&lt;-</span> <span class="st">"If sex = 1, predict True.</span></span>
<span><span class="st">             If age &lt; 45, predict False. </span></span>
<span><span class="st">             If thal = {fd, normal}, predict True. </span></span>
<span><span class="st">             Otherwise, predict False."</span></span></code></pre></div>
<p>As we will see shortly, the <code><a href="../reference/FFTrees.html">FFTrees()</a></code> function accepts
such descriptions (assigned here to a character string
<code>in_words</code>) as its <code>my.tree</code> argument, creates a
corresponding FFT, and evaluates it on a corresponding dataset.</p>
<div class="section level4">
<h4 id="verbally-defining-ffts">Verbally defining FFTs<a class="anchor" aria-label="anchor" href="#verbally-defining-ffts"></a>
</h4>
<p>Here are some <strong>instructions</strong> for manually specifying
trees:</p>
<ul>
<li><p>Each node must start with the word “If” and should correspond to
the form:
<code>If &lt;CUE&gt; &lt;DIRECTION&gt; &lt;THRESHOLD&gt;, predict &lt;EXIT&gt;</code>.</p></li>
<li><p>Numeric thresholds should be specified directly (without
brackets), like <code>age &gt; 21</code>.</p></li>
<li><p>For categorical variables, factor thresholds must be specified
within curly braces, like <code>sex = {male}</code>. For factors with
sets of values, categories within a threshold should be separated by
commas like <code>eyecolor = {blue,brown}</code>.</p></li>
<li><p>To specify cue directions, standard logical comparisons
<code>=</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;=</code>
(etc.) are valid. For numeric cues, only use <code>&gt;</code>,
<code>&gt;=</code>, <code>&lt;</code>, or <code>&lt;=</code>. For
factors, only use <code>=</code> or <code>!=</code>.</p></li>
<li><p>Positive exits are indicated by <code>True</code>, while negative
exits are specified by <code>False</code>.</p></li>
<li><p>The final node of an FFT is always bi-directional (i.e., has both
a positive and a negative exit). The description of the final node
always mentions its positive (<code>True</code>) exit first. The text
<code>Otherwise, predict EXIT</code> that we have included in the
example above is actually not necessary (and ignored).</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h4>
<p>Now, let’s use our verbal description of an FFT (assigned to
<code>in_words</code> above) as the <code>my.tree</code> argument of the
<code><a href="../reference/FFTrees.html">FFTrees()</a></code> function. This creates a corresponding FFT and
applies it to the <code>heartdisease</code> data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create FFTrees from a verbal FFT description (as my.tree): </span></span>
<span><span class="va">my_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                  data <span class="op">=</span> <span class="va">heartdisease</span>,</span>
<span>                  main <span class="op">=</span> <span class="st">"My 1st FFT"</span>, </span>
<span>                  my.tree <span class="op">=</span> <span class="va">in_words</span><span class="op">)</span></span></code></pre></div>
<p>Running <code><a href="../reference/FFTrees.html">FFTrees()</a></code> with the <code>my.tree</code> argument
creates an object <code>my_fft</code> that contains one FFT. A verbal
description of this tree can be printed by <code>inwords(my_fft)</code>,
but we want to print or plot the object to evaluate the tree’s
performance on training or testing data. Let’s see how well our manually
constructed FFT (<code>my_fft</code>) did on the training data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect FFTrees object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">my_fft</span>, data <span class="op">=</span> <span class="st">"train"</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="FFTrees_mytree_files/figure-html/my-tree-plot-1-1.png" alt="**Figure 1**: An FFT manually constructed using the `my.tree` argument of `FFTrees()`." width="580px"><p class="caption">
<strong>Figure 1</strong>: An FFT manually constructed using the
<code>my.tree</code> argument of <code><a href="../reference/FFTrees.html">FFTrees()</a></code>.
</p>
</div>
<!-- Note absence of ROC curve: -->
<p>When manually constructing a tree, the resulting <code>FFTrees</code>
object only contains a single FFT. Hence, the ROC plot (in the right
bottom panel of <strong>Figure 1</strong>) cannot show a range of FFTs,
but locates the constructed FFT in ROC space.</p>
<!-- Note on tree definitions: -->
<p>The formal definition of our new FFT is available from the
<code>FFTrees</code> object <code>my_fft</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get FFT definition(s):</span></span>
<span><span class="fu"><a href="../reference/get_fft_df.html">get_fft_df</a></span><span class="op">(</span><span class="va">my_fft</span><span class="op">)</span>  <span class="co"># my_fft$trees$definitions</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;    tree nodes classes cues         directions thresholds     exits  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1     3 n;n;c   sex;age;thal =;&gt;=;=     1;45;fd,normal 1;0;0.5</span></span></code></pre>
<!-- Note that noise exits (False/0) must have flipped direction symbols, as tree definitions always refer to signal (True/1): -->
<p>Note that the 2nd node in this FFT (using the <code>age</code> cue)
is predicting the <em>noise</em> outcome (i.e., a non-final exit value
of <code>0</code> or <code>FALSE</code>, shown to the left). As our tree
definitions always refer to the <em>signal</em> outcome (i.e., a
non-final exit value of <code>1</code> or <code>TRUE</code>, shown to
the right), the direction symbol of a left exit (i.e., the 2nd node in
<strong>Figure 1</strong>: if <code>age &lt; 45</code>,
predict <code>0</code> or noise) must be flipped relative to its
appearance in the tree definition (if <code>age &gt;= 45</code>,
predict <code>1</code> or signal). Thus, the plot and the formal
definition describe the same FFT.</p>
<!-- Performance: -->
<p>As it turns out, the performance of our first FFT created from a
verbal description is a mixed affair: The tree has a rather high
sensitivity (of 91%), but its low specificity (of only 10%) allows for
many false alarms. Consequently, its accuracy measures fail to exceed
the baseline level.</p>
</div>
<div class="section level4">
<h4 id="creating-an-alternative-fft">Creating an alternative FFT<a class="anchor" aria-label="anchor" href="#creating-an-alternative-fft"></a>
</h4>
<p>Let’s see if we can come up with a better FFT. The following example
uses the cues <code>thal</code>, <code>cp</code>, and <code>ca</code> in
the <code>my.tree</code> argument:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a 2nd FFT from an alternative FFT description (as my.tree): </span></span>
<span><span class="va">my_fft_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                    data <span class="op">=</span> <span class="va">heartdisease</span>, </span>
<span>                    main <span class="op">=</span> <span class="st">"My 2nd FFT"</span>, </span>
<span>                    my.tree <span class="op">=</span> <span class="st">"If thal = {rd,fd}, predict True.</span></span>
<span><span class="st">                               If cp != {a}, predict False. </span></span>
<span><span class="st">                               If ca &gt; 1, predict True. </span></span>
<span><span class="st">                               Otherwise, predict False."</span><span class="op">)</span></span></code></pre></div>
<!-- Show the flexibility in interpreting `my.tree`: -->
<p>As <strong>FFTrees</strong> aims to interpret the
<code>my.tree</code> argument to the best of its abilities, there is
some flexibility in entering a verbal description of an FFT. For
instance, we also could have described our desired FFT in more flowery
terms:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a 2nd FFT from an alternative FFT description (as my.tree): </span></span>
<span><span class="va">my_fft_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                    data <span class="op">=</span> <span class="va">heartdisease</span>, </span>
<span>                    main <span class="op">=</span> <span class="st">"My 2nd FFT"</span>, </span>
<span>                    my.tree <span class="op">=</span> <span class="st">"If thal equals {rd,fd}, we shall say True.  </span></span>
<span><span class="st">                               When Cp differs from {a}, let's predict False. </span></span>
<span><span class="st">                               Whenever CA happens to exceed 1, we will insist on True.</span></span>
<span><span class="st">                               Else, we give up and go away."</span><span class="op">)</span> </span></code></pre></div>
<p>However, as the vocabulary of <strong>FFTrees</strong> is limited, it
is safer to enter cue directions in their symbolic form (i.e.,
using <code>=</code>, <code>&lt;</code>, <code>&lt;=</code>,
<code>&gt;</code>, <code>&gt;=</code>, or <code>!=</code>).<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Interpretable &lt;code&gt;my.tree&lt;/code&gt; descriptions must
avoid using “is” and “is not” without additional qualifications (like
“equal”, “different”, “larger”, “smaller”, etc.).&lt;/p&gt;"><sup>1</sup></a> To verify
that <strong>FFTrees</strong> interpreted our <code>my.tree</code>
description as intended, let’s check whether the FFT of
<code>inwords(my_fft_2)</code> yields a description that corresponds to
what we wanted:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/inwords.html">inwords</a></span><span class="op">(</span><span class="va">my_fft_2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "If thal = {rd,fd}, decide True."                 </span></span>
<span><span class="co">#&gt; [2] "If cp != {a}, decide False."                     </span></span>
<span><span class="co">#&gt; [3] "If ca &gt; 1, decide True, otherwise, decide False."</span></span></code></pre>
<p>As this seems (a more prosaic version of) what we wanted, let’s
visualize this tree (to evaluate its performance) and briefly inspect
its tree definition:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Visualize FFT:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">my_fft_2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># FFT definition:</span></span>
<span><span class="fu"><a href="../reference/get_fft_df.html">get_fft_df</a></span><span class="op">(</span><span class="va">my_fft_2</span><span class="op">)</span>  <span class="co"># my_fft_2$trees$definitions</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;    tree nodes classes cues       directions thresholds exits  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1     3 c;c;n   thal;cp;ca =;=;&gt;      rd,fd;a;1  1;0;0.5</span></span>
<span><span class="co"># Note the flipped direction value for 2nd cue (exit = '0'):</span></span>
<span><span class="co"># 'if (cp  = a), predict 1' in the tree definition corresponds to </span></span>
<span><span class="co"># 'if (cp != a), predict 0' in the my.tree description and plot.  </span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="FFTrees_mytree_files/figure-html/my-tree-plot-fft-2-1.png" alt="**Figure 2**: Another FFT manually constructed using the `my.tree` argument of `FFTrees()`." width="580px"><p class="caption">
<strong>Figure 2</strong>: Another FFT manually constructed using the
<code>my.tree</code> argument of <code><a href="../reference/FFTrees.html">FFTrees()</a></code>.
</p>
</div>
<p>This alternative FFT is nicely balancing sensitivity and specificity
and performs much better overall. Nevertheless, it is still far from
perfect — so check out whether you can create even better ones!</p>
<!-- TESTing: -->
<!-- 1. In `fftrees_wordstofftrees()`, "Otherwise" part is being ignored. -->
<!-- 2. In `fftrees_ffttowords()`, the final sentence always predicts positive (True) instances first. -->
<!-- ToDo: Illustrate 4., as this case is instructive. -->
<!-- NEXT: 2nd way to specify an FFT:  -->
<!-- 2. as a data frame using the `tree.definitions` argument  -->
</div>
</div>
<div class="section level3">
<h3 id="using-tree-definitions">2. Using <code>tree.definitions</code><a class="anchor" aria-label="anchor" href="#using-tree-definitions"></a>
</h3>
<p>More experienced users may want to define and evaluate more than one
FFT at a time. To achieve this, the <code><a href="../reference/FFTrees.html">FFTrees()</a></code> function
allows providing sets of <code>tree.definitions</code> (as a data
frame). However, as questions regarding specific trees usually arise
later in the exploration of FFTs, the <code>tree.definitions</code>
argument is mostly used in combination with an existing
<code>FFTrees</code> object <code>x</code>. In this case, most
parameters (e.g., regarding the <code>formula</code>, <code>data</code>
and various goals) from the <code>FFTrees</code> object <code>x</code>
are being kept, but the object is re-evaluated for a new set of
<code>tree.definitions</code>.</p>
<p>As FFTs are simple and transparent rules for solving binary
classification problems, it would be neat to directly manipulate and
evaluate these rules. For this purpose, <strong>FFTrees</strong>
provides a set of tree manipulation functions (see
<strong>Figure 3</strong> below). Some of these functions extract sets
of existing FFT definitions (from <code>x</code>) and convert individual
FFT definitions into a more manageable (“tidy”) format. Other functions
allow to edit and trim these FFT definitions (e.g., by adding, changing,
reordering or removing nodes). Finally, further functions allow to
re-convert individual FFT definitions into sets of definitions, and to
collect and re-evaluate them on data.</p>
<!-- Steps of workflow: -->
<p>The basic workflow to get, change, and use FFT definitions contains
five steps:</p>
<ol style="list-style-type: decimal">
<li>Get (sets of) FFT definitions</li>
<li>Select and convert an individual FFT into a tidy data format</li>
<li>Manipulate the FFT (e.g., by changing its nodes or exits)</li>
<li>Re-convert the changed definition into the original data format</li>
<li>Collect sets of changed FFT definitions and/or evaluate them on
data</li>
</ol>
<p>Conceptually, this workflow boils down to first creating an FFT model
for some data, then manipulating the model, and finally re-evaluating it
on the data. The tools involved in this workflow allow editing the
grammar of FFTs.</p>
<div class="section level4">
<h4 id="overview-retrieving-manipulating-and-using-fft-definitions">Overview: Retrieving, manipulating, and using FFT definitions<a class="anchor" aria-label="anchor" href="#overview-retrieving-manipulating-and-using-fft-definitions"></a>
</h4>
<div class="figure" style="text-align: center">
<img src="gFFTs.png" alt="**Figure 3**: Overview of 4 tree definition and conversion functions (in yellow)&lt;br&gt;and 6 tree trimming functions (in blue)." width="500px"><p class="caption">
<strong>Figure 3</strong>: Overview of 4 tree definition and conversion
functions (in yellow)<br>and 6 tree trimming functions (in blue).
</p>
</div>
<p><strong>Figure 3</strong> provides an overview of the functions
provided for converting and manipulating FFT definitions. We can
distinguish between three cycles:</p>
<ul>
<li>
<strong>Cycle 1</strong>: Obtaining and collecting sets of FFT
definitions. The main <code><a href="../reference/FFTrees.html">FFTrees()</a></code> function creates an
<code>FFTrees</code> object <code>x</code> with and from corresponding
tree definitions. The following functions get, collect, and evaluate
FFT definitions:
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/get_fft_df.html">get_fft_df()</a></code> extracts the set of current FFT
definitions (from <code>x$trees$definitions</code>).<br>
</li>
<li>
<code><a href="../reference/add_fft_df.html">add_fft_df()</a></code> adds one or more FFT definitions to an
existing set of FFT definitions. Thus, the function allows collecting
sets of FFT definitions.<br>
</li>
<li>the <code>tree.definitions</code> argument of the main
<code><a href="../reference/FFTrees.html">FFTrees()</a></code> function allows evaluating sets of FFT
definitions for some data.</li>
</ol>
</li>
<li>
<strong>Cycle 2</strong>: Converting between two tree definition
formats (both stored as data frames):
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/read_fft_df.html">read_fft_df()</a></code> selects a single FFT from a set of FFT
definitions and converts it into a tidy data format (as a data frame in
which each row represents a node).</li>
<li>
<code><a href="../reference/write_fft_df.html">write_fft_df()</a></code> converts a single FFT from the tidy data
frame (with 1-row-per-node) into the 1-row-per FFT format used by
<code><a href="../reference/add_fft_df.html">add_fft_df()</a></code> and the <code>tree.definitions</code> argument
of <code><a href="../reference/FFTrees.html">FFTrees()</a></code>.</li>
</ol>
</li>
<li>
<strong>Cycle 3</strong>: Manipulating an individual tree definition
by a set of tree editing and trimming functions:
<ul>
<li>
<code><a href="../reference/add_nodes.html">add_nodes()</a></code> allows adding new nodes to an FFT;</li>
<li>
<code><a href="../reference/drop_nodes.html">drop_nodes()</a></code> allows deleting nodes of an FFT;</li>
<li>
<code><a href="../reference/edit_nodes.html">edit_nodes()</a></code> allows changing existing nodes of an
FFT;</li>
<li>
<code><a href="../reference/flip_exits.html">flip_exits()</a></code> allows changing the exit direction of
existing nodes;</li>
<li>
<code><a href="../reference/reorder_nodes.html">reorder_nodes()</a></code> allows changing the order of FFT
nodes;</li>
<li>
<code><a href="../reference/select_nodes.html">select_nodes()</a></code> allows filtering existing nodes of an
FFT.</li>
</ul>
</li>
</ul>
<p>The following example illustrates the interplay of these functions in
a typical workflow. When looking at <strong>Figure 3</strong>, we first
move down on the right side (from retrieving sets of FFT definitions to
manipulating individual FFTs) and then move up on the left side (to
re-convert individual FFTs into sets of FFT definitions).</p>
</div>
<div class="section level4">
<h4 id="example-1">Example<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h4>
<p>We illustrate a typical workflow by redefining some FFTs that were
built in the <a href="FFTrees_heart.html">Tutorial: FFTs for heart
disease</a> and evaluating them on the (full) <code>heartdisease</code>
data.</p>
<p>To obtain a set of existing tree definitions, we use our default
algorithm to create an <code>FFTrees</code> object <code>x</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an FFTrees object x:</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span> <span class="va">.</span>,           <span class="co"># criterion and (all) predictors</span></span>
<span>             data <span class="op">=</span> <span class="va">heart.train</span>,                <span class="co"># training data</span></span>
<span>             data.test <span class="op">=</span> <span class="va">heart.test</span>,            <span class="co"># testing data</span></span>
<span>             main <span class="op">=</span> <span class="st">"Heart Disease 1"</span>,          <span class="co"># initial label</span></span>
<span>             decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low risk"</span>, <span class="st">"high risk"</span><span class="op">)</span>,  <span class="co"># exit labels</span></span>
<span>             quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>                      <span class="co"># hide user feedback</span></span></code></pre></div>
<!-- Get tree definitions: -->
<p>As we have seen in the <a href="FFTrees_heart.html">Tutorial</a>,
evaluating this expression yields a set of 7 FFTs. Rather than
evaluating them individually (e.g., by using <code>print(x)</code> or
<code>plot(x)</code> commands to inspect specific trees), we now extract
the tree definitions to select and modify individual FFTs. As the
definitions are stored as part of the <code>FFTrees</code>
object <code>x</code>, this could be achieved by evaluating
<code>x$trees$definitions</code> or by
<code>summary(x)$definitions</code>. Alternatively, we can use the
<code><a href="../reference/get_fft_df.html">get_fft_df()</a></code> utility function on <code>x</code> to obtain
the set of generated tree definitions:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get tree definitions of x:</span></span>
<span><span class="op">(</span><span class="va">tree_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_fft_df.html">get_fft_df</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 7</span></span></span>
<span><span class="co">#&gt;    tree nodes classes cues             directions thresholds          exits    </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1     3 c;c;n   thal;cp;ca       =;=;&gt;      rd,fd;a;0           1;0;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 1;0;1;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3     3 c;c;n   thal;cp;ca       =;=;&gt;      rd,fd;a;0           0;1;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 1;1;0;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5     3 c;c;n   thal;cp;ca       =;=;&gt;      rd,fd;a;0           0;0;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>     6     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 0;0;0;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>     7     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 1;1;1;0.5</span></span></code></pre>
<p>The resulting R object <code>tree_dfs</code> is a data frame with
7 variables. Each of its 7 rows defines an FFT in the context of our
current <code>FFTrees</code> object <code>x</code> (see the vignette on
<a href="FFTrees_function.html">Creating FFTs with FFTrees()</a> for
help on interpreting tree definitions). As the “ifan” algorithm
responsible for creating these trees yields a family of highly similar
FFTs (which vary only by their exits, and may truncate some cues), we
may want to explore alternative versions of these trees.</p>
<p>All 7 FFTs defined in <code>tree_dfs</code> share the three cues
<code>thal</code>, <code>cp</code>, and <code>ca</code>, in this order.
Let’s assume we had reasons to explore the cue order <code>thal</code>,
<code>ca</code>, and <code>cp</code>.</p>
</div>
<div class="section level4">
<h4 id="obtaining-individual-tree-definitions">Obtaining individual tree definitions<a class="anchor" aria-label="anchor" href="#obtaining-individual-tree-definitions"></a>
</h4>
<p>Before we can apply our tree editing functions, we first select an
initial FFT that we want to manipulate further. This is the job of
<code><a href="../reference/read_fft_df.html">read_fft_df()</a></code> (see <strong>Cycle 2</strong> of
<strong>Figure 3</strong>):</p>
<ul>
<li>
<code><a href="../reference/read_fft_df.html">read_fft_df()</a></code> selects an FFT definition and converts it
into a tidy data frame.</li>
</ul>
<p>In our present case, we select and convert tree <code>1</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">fft_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_fft_df.html">read_fft_df</a></span><span class="op">(</span>ffts_df <span class="op">=</span> <span class="va">tree_dfs</span>, tree <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   class  cue direction threshold exit</span></span>
<span><span class="co">#&gt; 1     c thal         =     rd,fd    1</span></span>
<span><span class="co">#&gt; 2     c   cp         =         a    0</span></span>
<span><span class="co">#&gt; 3     n   ca         &gt;         0  0.5</span></span></code></pre>
<p>The resulting R object <code>fft_1</code> selected the definition of
tree 1 and converted it into a tidy data frame. Each of its 3 rows
defines a node of this FFT. This format can be understood and
manipulated more easily than the more compact format used in row 1 of
<code>tree_dfs</code> (but both formats can be converted into each other
by the complementary functions <code><a href="../reference/read_fft_df.html">read_fft_df()</a></code> and
<code><a href="../reference/write_fft_df.html">write_fft_df()</a></code>).</p>
</div>
<div class="section level4">
<h4 id="manipulating-individual-tree-definitions">Manipulating individual tree definitions<a class="anchor" aria-label="anchor" href="#manipulating-individual-tree-definitions"></a>
</h4>
<p>Having selected one FFT and converted it into a tidy data
frame <code>fft_1</code>, we can use various tree trimming functions to
edit or manipulate the definition of an individual tree (see
<strong>Cycle 3</strong> of <strong>Figure 3</strong>).</p>
<!-- Editing an individual FFT: -->
<!-- 1. Reordering nodes -->
<p><strong>Reordering nodes</strong><br>
In our example, our selected FFT uses the cues <code>thal</code>,
<code>cp</code>, and <code>ca</code>, but we wanted to explore the
alternative cue order <code>thal</code>, <code>ca</code>,
and <code>cp</code>. In other words, we need to swap the order of the
2nd and 3rd cues of <code>fft_1</code>. This is the purpose of the
<code><a href="../reference/reorder_nodes.html">reorder_nodes()</a></code> function:</p>
<ul>
<li>
<code><a href="../reference/reorder_nodes.html">reorder_nodes()</a></code> allows changing the order of FFT
nodes.</li>
</ul>
<p>In contrast to the <code><a href="../reference/read_fft_df.html">read_fft_df()</a></code> function above, the
tree editing functions of <strong>Cycle 3</strong> all require an
individual FFT-definition (as a tidy data frame) as their first
argument <code>fft</code>. In the case of <code><a href="../reference/reorder_nodes.html">reorder_nodes()</a></code>,
the second argument <code>order</code> specifies a numeric vector for
the desired node positions (i.e., the integers from 1 to
<code>nrow(fft)</code> in any order). Thus, swapping the order of the
2nd and 3rd nodes of <code>fft_1</code> is achieved as follows:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">my_fft_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reorder_nodes.html">reorder_nodes</a></span><span class="op">(</span>fft <span class="op">=</span> <span class="va">fft_1</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #767676;">reorder_nodes: Former exit node now is node 2</span></span></span>
<span><span class="co"><span style="color: #767676;">#&gt; </span></span></span></code></pre>
<pre><code><span><span class="co">#&gt;   class  cue direction threshold exit</span></span>
<span><span class="co">#&gt; 1     c thal         =     rd,fd    1</span></span>
<span><span class="co">#&gt; 2     n   ca         &gt;         0    1</span></span>
<span><span class="co">#&gt; 3     c   cp         =         a  0.5</span></span></code></pre>
<p>Swapping the final two nodes implies that the final node of
<code>fft_1</code> (using the numerical cue <code>ca</code>) becomes a
non-final cue, whereas the previous middle node (using a categorical
cue <code>cp</code>) becomes a final cue (see the corresponding feedback
message). By default, the previous exit cue becomes a signal exit (here:
exit 1, i.e., predicting a TRUE value for the <code>diagnosis</code>
criterion). Saving the resulting tree definition (stored in the same
tidy data frame format as <code>fft_1</code>) as an R object
<code>my_fft_1</code> will allow us to collect our modified FFTs
later.</p>
<!-- 2. Flipping exits -->
<p><strong>Flipping exits</strong> As we had no specific exit structure
in mind when deciding to explore the cue order <code>thal</code>,
<code>ca</code>, and <code>cp</code>, we will explore all possible exit
directions. As every non-final node allows for two alternative exits, a
tree containing
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math> nodes
has
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mn>2</mn><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></msup><annotation encoding="application/x-tex">2^{(n-1)}</annotation></semantics></math> exit
structures (i.e.,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">2^2 = 4</annotation></semantics></math>
for 3 cues). The
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math> exit
structures in addition to <code>my_fft_1</code> can be obtained by
flipping the exit directions of the first, second, or both non-final
nodes. Each alternative can be achieved by applying the
<code><a href="../reference/flip_exits.html">flip_exits()</a></code> function to <code>my_fft_1</code>:</p>
<ul>
<li>
<code><a href="../reference/flip_exits.html">flip_exits()</a></code> allows changing the exit direction of
existing nodes.</li>
</ul>
<p>For instance, the tree definition with a signal exit at the first
node of <code>my_fft_1</code> can be reversed into a non-signal node as
follows:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">my_fft_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/flip_exits.html">flip_exits</a></span><span class="op">(</span><span class="va">my_fft_1</span>, nodes <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   class  cue direction threshold exit</span></span>
<span><span class="co">#&gt; 1     c thal         =     rd,fd    0</span></span>
<span><span class="co">#&gt; 2     n   ca         &gt;         0    1</span></span>
<span><span class="co">#&gt; 3     c   cp         =         a  0.5</span></span></code></pre>
<!-- Defined in pipes (below): -->
</div>
<div class="section level4">
<h4 id="using-magrittr-pipes-to-combine-steps">Using <strong>magrittr</strong> pipes to combine steps<a class="anchor" aria-label="anchor" href="#using-magrittr-pipes-to-combine-steps"></a>
</h4>
<p>The tree conversion and editing functions do not need to be used
separately. As their first argument represents the data object to be
manipulated, they can be viewed as verbs in a tree manipulation language
and chained into longer command sequences by using the
<strong>magrittr</strong> pipe operator. For instance, reversing the
exit of the 2nd cue of <code>my_fft_1</code> could be achieved as
follows:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">my_fft_3</span> <span class="op">&lt;-</span> <span class="va">my_fft_1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/flip_exits.html">flip_exits</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   class  cue direction threshold exit</span></span>
<span><span class="co">#&gt; 1     c thal         =     rd,fd    1</span></span>
<span><span class="co">#&gt; 2     n   ca         &gt;         0    0</span></span>
<span><span class="co">#&gt; 3     c   cp         =         a  0.5</span></span></code></pre>
<p>Similarly, the five steps from <strong>FFTrees</strong>
object <code>x</code> to the tree definition with the alternative exit
structure of <code>my_fft_4</code> could be chained into a single pipe
as follows:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">my_fft_4</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/get_fft_df.html">get_fft_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/read_fft_df.html">read_fft_df</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/reorder_nodes.html">reorder_nodes</a></span><span class="op">(</span>order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/flip_exits.html">flip_exits</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #767676;">reorder_nodes: Former exit node now is node 2</span></span></span>
<span><span class="co"><span style="color: #767676;">#&gt; </span></span></span></code></pre>
<pre><code><span><span class="co">#&gt;   class  cue direction threshold exit</span></span>
<span><span class="co">#&gt; 1     c thal         =     rd,fd    0</span></span>
<span><span class="co">#&gt; 2     n   ca         &gt;         0    0</span></span>
<span><span class="co">#&gt; 3     c   cp         =         a  0.5</span></span></code></pre>
<p>To evaluate our four alternative tree definitions, we need to
re-convert them into the 1-line-per-FFT format (using
<code><a href="../reference/write_fft_df.html">write_fft_df()</a></code>) and gather them in a single data frame
(using <code><a href="../reference/add_fft_df.html">add_fft_df()</a></code>). In <strong>Figure 3</strong>, this
corresponds to moving upwards on the left (from individual FFT
definitions in a tidy data frame to combining sets of FFT definitions in
a single data frame).</p>
</div>
<div class="section level4">
<h4 id="re-converting-and-collecting-sets-of-tree-definitions">Re-converting and collecting sets of tree definitions<a class="anchor" aria-label="anchor" href="#re-converting-and-collecting-sets-of-tree-definitions"></a>
</h4>
<p>Having created four modified tree definitions (i.e.,
<code>my_fft_1</code> to <code>my_fft_4</code>), we now want to
re-convert them from the tidy data frame (with each row representing an
FFT node) to the (non-tidy) data frame format (in which each row
represents and entire FFT). The more compact format allows us to gather
several FFT definitions in one data frame, so that we can evaluate them
together for some data in a call to the main <code><a href="../reference/FFTrees.html">FFTrees()</a></code>
function. In <strong>Figure 3</strong>, the corresponding steps are
shown on the left sides of <strong>Cycle 2</strong> and
<strong>Cycle 1</strong>.</p>
<p>To re-convert between the two tree definition formats (both stored as
data frames), we use the <code><a href="../reference/write_fft_df.html">write_fft_df()</a></code> function:</p>
<ul>
<li>
<code><a href="../reference/write_fft_df.html">write_fft_df()</a></code> converts a single FFT from the tidy data
frame (with 1-row-per-node) into the 1-row-per FFT format used by
<code><a href="../reference/add_fft_df.html">add_fft_df()</a></code> and the <code>tree.definitions</code> argument
of <code><a href="../reference/FFTrees.html">FFTrees()</a></code>.</li>
</ul>
<p>In addition to the FFT definition to convert (e.g.,
<code>my_fft_1</code>), the <code>tree</code> argument allows providing
a numeric ID which will later allow us to identify the FFT within a
set:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">my_tree_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_fft_df.html">write_fft_df</a></span><span class="op">(</span><span class="va">my_fft_1</span>, tree <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   tree nodes classes       cues directions thresholds   exits</span></span>
<span><span class="co">#&gt; 1    1     3   c;n;c thal;ca;cp      =;&gt;;=  rd,fd;0;a 1;1;0.5</span></span></code></pre>
<p>This creates an R object <code>my_tree_dfs</code> as a (non-tidy)
data frame in which the definition of <code>my_fft_1</code> occupies
only one row.</p>
<p>Next, we add the other FFT definitions to the
<code>my_tree_dfs</code> data frame. This can be achieved by the
<code><a href="../reference/add_fft_df.html">add_fft_df()</a></code> function:</p>
<ul>
<li>
<code><a href="../reference/add_fft_df.html">add_fft_df()</a></code> adds one or more FFT definitions to an
existing set of FFT definitions. Thus, the function allows collecting
sets of FFT definitions.</li>
</ul>
<p>However, as this first requires converting each of the tidy FFT
definitions into the more compact 1-row-per FFT format, we use a series
of command pipes. Each pipe starts from a tidy FFT definition and
applies <code><a href="../reference/write_fft_df.html">write_fft_df()</a></code> (with an ID) and
<code>add_fft_df</code> (to <code>my_tree_dfs</code>), before
re-assigning the modified data frame as <code>my_tree_dfs</code>
again:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_tree_dfs</span> <span class="op">&lt;-</span> <span class="va">my_fft_2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/write_fft_df.html">write_fft_df</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_fft_df.html">add_fft_df</a></span><span class="op">(</span><span class="va">my_tree_dfs</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_tree_dfs</span> <span class="op">&lt;-</span> <span class="va">my_fft_3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/write_fft_df.html">write_fft_df</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_fft_df.html">add_fft_df</a></span><span class="op">(</span><span class="va">my_tree_dfs</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_tree_dfs</span> <span class="op">&lt;-</span> <span class="va">my_fft_4</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/write_fft_df.html">write_fft_df</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_fft_df.html">add_fft_df</a></span><span class="op">(</span><span class="va">my_tree_dfs</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_tree_dfs</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   tree nodes classes       cues directions thresholds   exits</span></span>
<span><span class="co">#&gt; 1    1     3   c;n;c thal;ca;cp      =;&gt;;=  rd,fd;0;a 1;1;0.5</span></span>
<span><span class="co">#&gt; 2    2     3   c;n;c thal;ca;cp      =;&gt;;=  rd,fd;0;a 0;1;0.5</span></span>
<span><span class="co">#&gt; 3    3     3   c;n;c thal;ca;cp      =;&gt;;=  rd,fd;0;a 1;0;0.5</span></span>
<span><span class="co">#&gt; 4    4     3   c;n;c thal;ca;cp      =;&gt;;=  rd,fd;0;a 0;0;0.5</span></span></code></pre>
<p>The resulting data frame <code>my_tree_dfs</code> contains 4 FFT
definitions in its 4 rows. Per our design (above), they only differ in
the values of their <code>tree</code> ID and the structures of their
<code>exits</code>.</p>
</div>
<div class="section level4">
<h4 id="applying-sets-of-tree-definitions-to-data">Applying sets of tree definitions to data<a class="anchor" aria-label="anchor" href="#applying-sets-of-tree-definitions-to-data"></a>
</h4>
<p>Having edited and collected a set of tree definitions, we now can
evaluate the corresponding FFTs on some data. We can do this by
providing our set of tree definitions (stored in the
<code>my_tree_dfs</code> data frame) to the
<code>tree.definitions</code> argument of the main
<code><a href="../reference/FFTrees.html">FFTrees()</a></code> function:</p>
<ul>
<li>The <code>tree.definitions</code> argument of the main
<code><a href="../reference/FFTrees.html">FFTrees()</a></code> function allows evaluating sets of FFT
definitions for some data.</li>
</ul>
<p>When using the main <code><a href="../reference/FFTrees.html">FFTrees()</a></code> function with a set of
<code>tree.definitions</code> (as a data frame in which each line
contains the definition of one FFT), we can provide an existing
<code>FFTrees</code> object (e.g., <code>x</code> from above).
Importantly, however, the input of <code>tree.definitions</code>
prevents the generation of new FFTs (via the “ifan” or “dfan”
algorithms) and instead evaluates the FFT definitions provided on the
data specified:<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;If the &lt;code&gt;tree.definitions&lt;/code&gt; contain cue
variables or values that cannot be found in the data, this will result
in errors.&lt;/p&gt;"><sup>2</sup></a></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Evaluate new tree.definitions for an existing FFTrees object x:</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">x</span>,                      <span class="co"># existing FFTrees object x</span></span>
<span>             tree.definitions <span class="op">=</span> <span class="va">my_tree_dfs</span>,  <span class="co"># new set of FFT definitions</span></span>
<span>             main <span class="op">=</span> <span class="st">"Heart Disease 2"</span>         <span class="co"># new label</span></span>
<span>             <span class="op">)</span></span></code></pre></div>
<p>As we can see from the feedback messages, providing an
<code>FFTrees</code> object (here <code>x</code>) re-uses its datasets,
parameters, and labels, unless they are overwritten by new values. The
resulting <code>FFTrees</code> object <code>y</code> contains the
summary statistics resulting from applying the 4 FFT definitions of
<code>my_tree_dfs</code> to the datasets that were used to create
<code>x</code> (i.e., <code>data = heart.train</code> and
<code>data.test = heart.test</code>).</p>
<p>We now can assess and visualize the performance of the FFTs in the
usual ways, e.g., by the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>
and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> functions for <code>y</code> or its trees:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Heart Disease 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFTrees </span></span></span>
<span><span class="co">#&gt; - Trees: 4 fast-and-frugal trees predicting <span style="text-decoration: underline;">diagnosis</span></span></span>
<span><span class="co">#&gt; - Parameters: algorithm = 'ifan', max.levels = 4,</span></span>
<span><span class="co">#&gt;               stopping.rule = 'exemplars', stopping.par = 0.1,</span></span>
<span><span class="co">#&gt;               goal = 'bacc', goal.chase = 'bacc', goal.threshold = 'bacc'.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Table: <span style="color: #005FAF;">Tree </span><span style="color: #005FAF; text-decoration: underline;">definitions.</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; | tree| nodes|classes |cues       |directions |thresholds |exits   |</span></span>
<span><span class="co">#&gt; |----:|-----:|:-------|:----------|:----------|:----------|:-------|</span></span>
<span><span class="co">#&gt; |    1|     3|c;n;c   |thal;ca;cp |=;&gt;;=      |rd,fd;0;a  |1;0;0.5 |</span></span>
<span><span class="co">#&gt; |    2|     3|c;n;c   |thal;ca;cp |=;&gt;;=      |rd,fd;0;a  |0;1;0.5 |</span></span>
<span><span class="co">#&gt; |    3|     3|c;n;c   |thal;ca;cp |=;&gt;;=      |rd,fd;0;a  |1;1;0.5 |</span></span>
<span><span class="co">#&gt; |    4|     3|c;n;c   |thal;ca;cp |=;&gt;;=      |rd,fd;0;a  |0;0;0.5 |</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Table: <span style="color: #005FAF;">Tree statistics on </span><span style="color: #005FAF; text-decoration: underline;">training</span><span style="color: #005FAF;"> data [p(True) = 44%].</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; | tree|   n| hi| fa| mi| cr| sens| spec|  far|  ppv|  npv| dprime|  acc| bacc| wacc| cost_dec| cost_cue| cost|  pci|  mcu|</span></span>
<span><span class="co">#&gt; |----:|---:|--:|--:|--:|--:|----:|----:|----:|----:|----:|------:|----:|----:|----:|--------:|--------:|----:|----:|----:|</span></span>
<span><span class="co">#&gt; |    1| 150| 54| 18| 12| 66| 0.82| 0.79| 0.21| 0.75| 0.85|   1.69| 0.80| 0.80| 0.80|     0.20|     1.76| 1.96| 0.86| 1.76|</span></span>
<span><span class="co">#&gt; |    2| 150| 44|  7| 22| 77| 0.67| 0.92| 0.08| 0.86| 0.78|   1.79| 0.81| 0.79| 0.79|     0.19|     1.58| 1.77| 0.88| 1.58|</span></span>
<span><span class="co">#&gt; |    3| 150| 63| 42|  3| 42| 0.95| 0.50| 0.50| 0.60| 0.93|   1.66| 0.70| 0.73| 0.73|     0.30|     1.98| 2.28| 0.85| 1.98|</span></span>
<span><span class="co">#&gt; |    4| 150| 28|  2| 38| 82| 0.42| 0.98| 0.02| 0.93| 0.68|   1.74| 0.73| 0.70| 0.70|     0.27|     1.68| 1.95| 0.87| 1.68|</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Table: <span style="color: #005FAF;">Tree statistics on </span><span style="color: #005FAF; text-decoration: underline;">test</span><span style="color: #005FAF;"> data [p(True) = 48%].</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; | tree|   n| hi| fa| mi| cr| sens| spec|  far|  ppv|  npv| dprime|  acc| bacc| wacc| cost_dec| cost_cue| cost|  pci|  mcu|</span></span>
<span><span class="co">#&gt; |----:|---:|--:|--:|--:|--:|----:|----:|----:|----:|----:|------:|----:|----:|----:|--------:|--------:|----:|----:|----:|</span></span>
<span><span class="co">#&gt; |    1| 153| 64| 19|  9| 61| 0.88| 0.76| 0.24| 0.77| 0.87|   1.86| 0.82| 0.82| 0.82|     0.18|     1.69| 1.87| 0.87| 1.69|</span></span>
<span><span class="co">#&gt; |    2| 153| 49|  8| 24| 72| 0.67| 0.90| 0.10| 0.86| 0.75|   1.71| 0.79| 0.79| 0.79|     0.21|     1.70| 1.91| 0.87| 1.70|</span></span>
<span><span class="co">#&gt; |    3| 153| 70| 45|  3| 35| 0.96| 0.44| 0.56| 0.61| 0.92|   1.55| 0.69| 0.70| 0.70|     0.31|     1.90| 2.22| 0.85| 1.90|</span></span>
<span><span class="co">#&gt; |    4| 153| 28|  0| 45| 80| 0.38| 1.00| 0.00| 1.00| 0.64|   2.44| 0.71| 0.69| 0.69|     0.29|     1.71| 2.01| 0.87| 1.71|</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Visualize individual FFTs:</span></span>
<span><span class="co"># plot(y, tree = 1)</span></span></code></pre></div>
<p>Comparing the accuracy statistics of our new FFTs (in
object <code>y</code>) to our original FFTs (in object <code>x</code>)
shows that swapping the 2nd and 3rd cue had hardly an effect. Upon
reflection, this is not surprising: Most people are still classified
into the same categories as before. However, if we were to evaluate the
costs of classification (e.g., by considering the <code>pci</code>
and <code>mcu</code> measures or the <code>cost</code> measures for cue
usage), we could still detect differences between FFTs that show the
same accuracy.</p>
</div>
<div class="section level4">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h4>
<p>We just created a new <code>FFTrees</code> object <code>y</code> by
using <code>FFTrees</code> object <code>x</code> for a set of customized
FFTs defined by the <code>tree.definitions</code> argument. This
circumvented the FFT building algorithms and used the provided FFT
definitions instead. Thus, the ordinary distinction between training and
test data no longer applies in this context: As no model is being fitted
here, both sets were used to evaluate the FFTs in
<code>tree.definitions</code> on these data.
<!-- 1. Using only data, as train vs. data.test not used here:  -->
Acknowledging this, we may use the full dataset of
<code>heartdisease</code>, rather than splitting it into two distinct
subsets:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a new FFTrees object z:</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span> <span class="va">.</span>,</span>
<span>             data <span class="op">=</span> <span class="va">heartdisease</span>,             <span class="co"># using full dataset</span></span>
<span>             tree.definitions <span class="op">=</span> <span class="va">my_tree_dfs</span>,  <span class="co"># new set of FFT definitions</span></span>
<span>             main <span class="op">=</span> <span class="st">"Heart Disease 3"</span>         <span class="co"># new label</span></span>
<span>             <span class="op">)</span></span></code></pre></div>
<p>As before, we can evaluate the performance of our FFTs by obtaining a
summary, or printing or plotting individual FFTs from the
<code>FFTrees</code> object <code>z</code>:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summarize results: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize an FFT:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z</span>, tree <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<!-- 2. Comparing old vs. new sets  -->
<p>Finally, if we mostly care about comparing our new FFTs with the
automatically created ones, we could have added our new set
<code>my_tree_dfs</code> to the old set (<code>tree_dfs</code>, obtained
from <code>x</code> above).</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">all_fft_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_fft_df.html">add_fft_df</a></span><span class="op">(</span><span class="va">my_tree_dfs</span>, <span class="va">tree_dfs</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 11 × 7</span></span></span>
<span><span class="co">#&gt;     tree nodes classes cues             directions thresholds          exits    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1     3 c;c;n   thal;cp;ca       =;=;&gt;      rd,fd;a;0           1;0;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 1;0;1;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3     3 c;c;n   thal;cp;ca       =;=;&gt;      rd,fd;a;0           0;1;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 1;1;0;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     3 c;c;n   thal;cp;ca       =;=;&gt;      rd,fd;a;0           0;0;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 0;0;0;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7     4 c;c;n;c thal;cp;ca;slope =;=;&gt;;=    rd,fd;a;0;flat,down 1;1;1;0.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8     3 c;n;c   thal;ca;cp       =;&gt;;=      rd,fd;0;a           1;1;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9     3 c;n;c   thal;ca;cp       =;&gt;;=      rd,fd;0;a           0;1;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10     3 c;n;c   thal;ca;cp       =;&gt;;=      rd,fd;0;a           1;0;0.5  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>    11     3 c;n;c   thal;ca;cp       =;&gt;;=      rd,fd;0;a           0;0;0.5</span></span></code></pre>
<p>Doing so (e.g., by using the <code><a href="../reference/add_fft_df.html">add_fft_df()</a></code> function)
creates a superset of 11 tree definitions, which can be evaluated
together on the <code>heartdisease</code> data:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a new FFTrees object a:</span></span>
<span><span class="va">all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span> <span class="va">.</span>,       </span>
<span>               data <span class="op">=</span> <span class="va">heartdisease</span>,             <span class="co"># using full dataset</span></span>
<span>               tree.definitions <span class="op">=</span> <span class="va">all_fft_dfs</span>,  <span class="co"># new set of FFT definitions</span></span>
<span>               main <span class="op">=</span> <span class="st">"Heart Disease 4"</span>,        <span class="co"># new label</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summarize results: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">all</span><span class="op">)</span></span></code></pre></div>
<p>Evaluating the performance of the corresponding FFTs (e.g., by
<code>summary(all)</code>) shows that reversing the final two cues had
little to no effects on accuracy (but note minor differences in costs,
e.g., <code>mcu</code>).<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Note that applying FFT definitions to data resulted in
re-sorting the tree IDs according to the current &lt;code&gt;goal&lt;/code&gt;.&lt;/p&gt;"><sup>3</sup></a></p>
<!-- +++ here now +++  -->
<!-- Mention macros / Combinations of tree editing functions? -->
<!-- OLDER parts: -->
<!-- #### Manually editing tree definitions  -->
<!-- #### Evaluating `tree.definitions`  -->
<!-- For experienced users: Method for manually or computationally defining sets of FFTs. -->
<!-- Start from existing definitions of FFTs (in an `FFTrees` object). -->
<!-- A. tree.definitions and object: -->
<!-- A. Provide tree.definitions but no object: -->
<!-- B. Provide an object but no tree.definitions: -->
<!-- Demo: Create all permutations of cues (i.e., orders of a given tree): -->
</div>
</div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<!-- Table of all vignettes: -->
<p>Here is a complete list of the vignettes available in the
<strong>FFTrees</strong> package:</p>
<table class="table">
<colgroup>
<col width="3%">
<col width="36%">
<col width="59%">
</colgroup>
<thead><tr class="header">
<th align="right"></th>
<th align="left">Vignette</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right"></td>
<td align="left"><a href="guide.html">Main guide: FFTrees
overview</a></td>
<td align="left">An overview of the <strong>FFTrees</strong>
package</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left"><a href="FFTrees_heart.html">Tutorial: FFTs for heart
disease</a></td>
<td align="left">An example of using <code><a href="../reference/FFTrees.html">FFTrees()</a></code> to model
heart disease diagnosis</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left"><a href="FFTrees_accuracy_statistics.html">Accuracy
statistics</a></td>
<td align="left">Definitions of accuracy statistics used throughout the
package</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left"><a href="FFTrees_function.html">Creating FFTs with
FFTrees()</a></td>
<td align="left">Details on the main <code><a href="../reference/FFTrees.html">FFTrees()</a></code>
function</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left"><a href="FFTrees_mytree.html">Manually specifying
FFTs</a></td>
<td align="left">How to directly create FFTs without using the built-in
algorithms</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left"><a href="FFTrees_plot.html">Visualizing FFTs</a></td>
<td align="left">Plotting <code>FFTrees</code> objects, from full trees
to icon arrays</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left"><a href="FFTrees_examples.html">Examples of
FFTs</a></td>
<td align="left">Examples of FFTs from different datasets contained in
the package</td>
</tr>
</tbody>
</table>
<!-- eof. -->
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Phillips, Hansjoerg Neth, Jan Woike, Wolfgang Gaissmaier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
