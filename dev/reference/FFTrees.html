<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="FFTrees is the workhorse function of the FFTrees package for creating fast-and-frugal trees (FFTs).
FFTs are decision algorithms for solving binary classification tasks, i.e., they predict the values of a binary criterion variable based on 1 or multiple predictor variables (cues).
Using FFTrees on data usually generates a range of FFTs and corresponding summary statistics (as an FFTrees object)
that can then be printed, plotted, and examined further.
The criterion and predictor variables are specified in formula notation.
Based on the settings of data and data.test, FFTs are trained on a (required) training dataset
(given the set of current goal values) and evaluated on (or predict) an (optional) test dataset.
If an existing FFTrees object object or tree.definitions are provided as inputs,
no new FFTs are created.
When both arguments are provided, tree.definitions take priority over the FFTs in an existing object.
Specifically,

If tree.definitions are provided, these are assigned to the FFTs of x.
If no tree.definitions are provided, but an existing FFTrees object object is provided,
  the trees from object are assigned to the FFTs of x.

"><title>Main function to create and apply fast-and-frugal trees (FFTs) — FFTrees • FFTrees</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Main function to create and apply fast-and-frugal trees (FFTs) — FFTrees"><meta property="og:description" content="FFTrees is the workhorse function of the FFTrees package for creating fast-and-frugal trees (FFTs).
FFTs are decision algorithms for solving binary classification tasks, i.e., they predict the values of a binary criterion variable based on 1 or multiple predictor variables (cues).
Using FFTrees on data usually generates a range of FFTs and corresponding summary statistics (as an FFTrees object)
that can then be printed, plotted, and examined further.
The criterion and predictor variables are specified in formula notation.
Based on the settings of data and data.test, FFTs are trained on a (required) training dataset
(given the set of current goal values) and evaluated on (or predict) an (optional) test dataset.
If an existing FFTrees object object or tree.definitions are provided as inputs,
no new FFTs are created.
When both arguments are provided, tree.definitions take priority over the FFTs in an existing object.
Specifically,

If tree.definitions are provided, these are assigned to the FFTs of x.
If no tree.definitions are provided, but an existing FFTrees object object is provided,
  the trees from object are assigned to the FFTs of x.

"><meta property="og:image" content="https://ndphillips.github.io/FFTrees/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FFTrees</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/FFTrees_accuracy_statistics.html">Accuracy statistics in FFTrees</a>
    <a class="dropdown-item" href="../articles/FFTrees_examples.html">Examples of FFTrees</a>
    <a class="dropdown-item" href="../articles/FFTrees_function.html">Creating FFTs with FFTrees()</a>
    <a class="dropdown-item" href="../articles/FFTrees_heart.html">Tutorial: Creating FFTs for heart disease</a>
    <a class="dropdown-item" href="../articles/FFTrees_mytree.html">Manually specifying FFTs</a>
    <a class="dropdown-item" href="../articles/FFTrees_plot.html">Visualising FFTs</a>
    <a class="dropdown-item" href="../articles/guide.html">Overview: Creating FFTs with FFTrees</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ndphillips/FFTrees/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Main function to create and apply fast-and-frugal trees (FFTs)</h1>
      <small class="dont-index">Source: <a href="https://github.com/ndphillips/FFTrees/blob/HEAD/R/FFTrees.R" class="external-link"><code>R/FFTrees.R</code></a></small>
      <div class="d-none name"><code>FFTrees.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>FFTrees</code> is the workhorse function of the <strong>FFTrees</strong> package for creating fast-and-frugal trees (FFTs).</p>
<p>FFTs are decision algorithms for solving binary classification tasks, i.e., they predict the values of a binary criterion variable based on 1 or multiple predictor variables (cues).</p>
<p>Using <code>FFTrees</code> on <code>data</code> usually generates a range of FFTs and corresponding summary statistics (as an <code>FFTrees</code> object)
that can then be printed, plotted, and examined further.</p>
<p>The criterion and predictor variables are specified in <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code> notation.
Based on the settings of <code>data</code> and <code>data.test</code>, FFTs are trained on a (required) training dataset
(given the set of current <code>goal</code> values) and evaluated on (or predict) an (optional) test dataset.</p>
<p>If an existing <code>FFTrees</code> object <code>object</code> or <code>tree.definitions</code> are provided as inputs,
no new FFTs are created.
When both arguments are provided, <code>tree.definitions</code> take priority over the FFTs in an existing <code>object</code>.
Specifically,</p>
<ul><li><p>If <code>tree.definitions</code> are provided, these are assigned to the FFTs of <code>x</code>.</p></li>
<li><p>If no <code>tree.definitions</code> are provided, but an existing <code>FFTrees</code> object <code>object</code> is provided,
  the trees from <code>object</code> are assigned to the FFTs of <code>x</code>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">FFTrees</span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data.test <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  algorithm <span class="op">=</span> <span class="st">"ifan"</span>,</span>
<span>  train.p <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  goal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  goal.chase <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  goal.threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max.levels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  numthresh.method <span class="op">=</span> <span class="st">"o"</span>,</span>
<span>  numthresh.n <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  repeat.cues <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  stopping.rule <span class="op">=</span> <span class="st">"exemplars"</span>,</span>
<span>  stopping.par <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  sens.w <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  cost.outcomes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cost.cues <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  main <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"False"</span>, <span class="st">"True"</span><span class="op">)</span>,</span>
<span>  my.goal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  my.goal.fun <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  my.tree <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  object <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tree.definitions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ini <span class="op">=</span> <span class="cn">TRUE</span>, fin <span class="op">=</span> <span class="cn">FALSE</span>, mis <span class="op">=</span> <span class="cn">FALSE</span>, set <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  comp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rank.method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rounding <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  store.data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do.comp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do.cart <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do.lr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do.rf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do.svm <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>A formula. A <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code> specifying a binary criterion variable (as logical) as a function of 1 or more predictor variables (cues).</p></dd>


<dt>data</dt>
<dd><p>A data frame. A dataset used for training (fitting) FFTs and alternative algorithms.
<code>data</code> must contain the binary criterion variable specified in <code>formula</code> and potential predictors (which can be categorical or numeric variables).</p></dd>


<dt>data.test</dt>
<dd><p>A data frame. An optional dataset used for model testing (prediction) with the same structure as data.</p></dd>


<dt>algorithm</dt>
<dd><p>A character string. The algorithm used to create FFTs. Can be <code>'ifan'</code>, <code>'dfan'</code>.</p></dd>


<dt>train.p</dt>
<dd><p>numeric. What percentage of the data to use for training when <code>data.test</code> is not specified?
For example, <code>train.p = .50</code> will randomly split <code>data</code> into a 50% training set and a 50% test set.
Default: <code>train.p = 1</code> (i.e., using <em>all</em> data for training).</p></dd>


<dt>goal</dt>
<dd><p>A character string indicating the statistic to maximize when <em>selecting trees</em>:
<code>"acc"</code> = overall accuracy, <code>"bacc"</code> = balanced accuracy, <code>"wacc"</code> = weighted accuracy,
<code>"dprime"</code> = discriminability, <code>"cost"</code> = costs (based on <code>cost.outcomes</code> and <code>cost.cues</code>).</p></dd>


<dt>goal.chase</dt>
<dd><p>A character string indicating the statistic to maximize when <em>constructing trees</em>:
<code>"acc"</code> = overall accuracy, <code>"bacc"</code> = balanced accuracy, <code>"wacc"</code> = weighted accuracy,
<code>"dprime"</code> = discriminability, <code>"cost"</code> = costs (based on <code>cost.outcomes</code> and <code>cost.cues</code>).</p></dd>


<dt>goal.threshold</dt>
<dd><p>A character string indicating the criterion to maximize when <em>optimizing cue thresholds</em>:
<code>"acc"</code> = overall accuracy, <code>"bacc"</code> = balanced accuracy, <code>"wacc"</code> = weighted accuracy,
<code>"dprime"</code> = discriminability, <code>"cost"</code> = costs (based only on <code>cost.outcomes</code>, as <code>cost.cues</code> are constant per cue).
All default goals are set in <code><a href="fftrees_create.html">fftrees_create</a></code>.</p></dd>


<dt>max.levels</dt>
<dd><p>integer. The maximum number of nodes (or levels) considered for an FFT.
As all combinations of possible exit structures are considered, larger values of <code>max.levels</code> will create larger sets of FFTs.</p></dd>


<dt>numthresh.method</dt>
<dd><p>How should thresholds for numeric cues be determined (as character)?
<code>"o"</code> will optimize thresholds (for <code>goal.threshold</code>), while <code>"m"</code> will use the median.
Default: <code>numthresh.method = "o"</code>.</p></dd>


<dt>numthresh.n</dt>
<dd><p>The number of numeric thresholds to try (as integer).
Default: <code>numthresh.n = 10</code>.</p></dd>


<dt>repeat.cues</dt>
<dd><p>May cues occur multiple times within a tree (as logical)?
Default: <code>repeat.cues = TRUE</code>.</p></dd>


<dt>stopping.rule</dt>
<dd><p>A character string indicating the method to stop growing trees.
Available options are:</p><ul><li><p><code>"exemplars"</code>: A tree grows until only a small proportion of unclassified exemplars remain;</p></li>
<li><p><code>"levels"</code>: A tree grows until a certain level is reached;</p></li>
<li><p><code>"statdelta"</code>: A tree grows until the change in the criterion statistic <code>goal.chase</code> exceeds some threshold level.
  (This setting is currently experimental and includes the first level beyond threshold.
  As tree statistics can be non-monotonic, this option may yield inconsistent results.)</p></li>
</ul><p>All stopping methods use <code>stopping.par</code> to set a numeric threshold value.
Default: <code>stopping.rule = "exemplars"</code>.</p></dd>


<dt>stopping.par</dt>
<dd><p>numeric. A numeric parameter indicating the criterion value for the current <code>stopping.rule</code>.
For stopping.rule <code>"levels"</code>, this is the number of desired levels (as an integer).
For stopping rule <code>"exemplars"</code>, this is the smallest proportion of exemplars allowed in the last level.
For stopping.rule <code>"statdelta"</code>, this is the minimum required change (in the <code>goal.chase</code> value) to include a level.
Default: <code>stopping.par = .10</code>.</p></dd>


<dt>sens.w</dt>
<dd><p>A numeric value from <code>0</code> to <code>1</code> indicating how to weight
sensitivity relative to specificity when optimizing <em>weighted</em> accuracy (e.g., <code>goal = 'wacc'</code>).
Default: <code>sens.w = .50</code> (i.e., <code>wacc</code> corresponds to <code>bacc</code>).</p></dd>


<dt>cost.outcomes</dt>
<dd><p>A list of length 4 specifying the cost value for one of the 4 possible classification outcomes.
The list elements must be named <code>'hi'</code>, <code>'fa'</code>, <code>'mi'</code>, and <code>'cr'</code>
(for specifying the costs of a hit, false alarm, miss, and correct rejection, respectively) and provide a numeric cost value.
E.g.; <code>cost.outcomes = listc("hi" = 0, "fa" = 10, "mi" = 20, "cr" = 0)</code> imposes false alarm and miss costs of <code>10</code> and <code>20</code> units, respectively, while correct decisions have no costs.</p></dd>


<dt>cost.cues</dt>
<dd><p>A list containing the cost of each cue (in some common unit).
Each list element must have a name corresponding to a cue (i.e., a variable in <code>data</code>), and should be a single (positive numeric) value.
Cues in <code>data</code> that are not present in <code>cost.cues</code> are assumed to have no costs (i.e., a cost value of <code>0</code>).</p></dd>


<dt>main</dt>
<dd><p>string. An optional label for the dataset. Passed on to other functions, like <code><a href="plot.FFTrees.html">plot.FFTrees</a></code>, and <code><a href="print.FFTrees.html">print.FFTrees</a></code>.</p></dd>


<dt>decision.labels</dt>
<dd><p>A vector of strings of length 2 for the text labels for negative and positive decision/prediction outcomes
(i.e., left vs. right, noise vs. signal, 0 vs. 1, respectively, as character).
E.g.; <code>decision.labels = c("Healthy", "Diseased")</code>.</p></dd>


<dt>my.goal</dt>
<dd><p>The name of an optimization measure defined by <code>my.goal.fun</code> (as a character string).
Example: <code>my.goal = "my_acc"</code> (see <code>my.goal.fun</code> for corresponding function).
Default: <code>my.goal = NULL</code>.</p></dd>


<dt>my.goal.fun</dt>
<dd><p>The definition of an outcome measure to optimize, defined as a function
of the frequency counts of the 4 basic classification outcomes <code>hi, fa, mi, cr</code>
(i.e., an R function with 4 arguments <code>hi, fa, mi, cr</code>).
Example: <code>my.goal.fun = function(hi, fa, mi, cr){(hi + cr)/(hi + fa + mi + cr)}</code> (i.e., accuracy).
Default: <code>my.goal.fun = NULL</code>.</p></dd>


<dt>my.tree</dt>
<dd><p>A verbal description of an FFT, i.e., an "FFT in words" (as character string).
For example, <code>my.tree = "If age &gt; 20, predict TRUE. If sex = {m}, predict FALSE. Otherwise, predict TRUE."</code>.</p></dd>


<dt>object</dt>
<dd><p>An optional existing <code>FFTrees</code> object.
When specified, no new FFTs are fitted, but existing trees are applied to <code>data</code> and <code>data.test</code>.
When <code>formula</code>, <code>data</code> or <code>data.test</code> are not specified, the current values of <code>object</code> are used.</p></dd>


<dt>tree.definitions</dt>
<dd><p>An optional <code>data.frame</code> of hard-coded FFT definitions (in the format of <code>x$trees$definitions</code> of an <code>FFTrees</code> object <code>x</code>).
If specified, no new FFTs are being fitted (i.e., <code>algorithm</code> and functions for evaluating cues and creating FFTs are skipped).
Instead, the tree definitions provided are used to re-evaluate the current <code>FFTrees</code> object on current data.</p></dd>


<dt>quiet</dt>
<dd><p>A list of 4 logical arguments: Should detailed progress reports be suppressed?
Setting list elements to <code>FALSE</code> is helpful when diagnosing errors.
Default: <code>quiet = list(ini = TRUE, fin = FALSE, mis = FALSE, set = TRUE)</code>,
for initial vs. final steps, missing cases, and parameter settings, respectively.
Providing a single logical value sets all elements to <code>TRUE</code> or <code>FALSE</code>.</p></dd>


<dt>comp, do.comp, do.lr, do.cart, do.svm, do.rf, force, rank.method, rounding, store.data, verbose</dt>
<dd><p>Deprecated arguments (unused or replaced, to be retired in future releases).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>FFTrees</code> object with the following elements:</p><dl><dt>criterion_name</dt>
<dd><p>The name of the binary criterion variable (as character).</p></dd>

  <dt>cue_names</dt>
<dd><p>The names of all potential predictor variables (cues) in the data (as character).</p></dd>

  <dt>formula</dt>
<dd><p>The <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code> specified when creating the FFTs.</p></dd>

  <dt>trees</dt>
<dd><p>A list of FFTs created, with further details contained in <code>n</code>, <code>best</code>, <code>definitions</code>, <code>inwords</code>, <code>stats</code>, <code>level_stats</code>, and <code>decisions</code>.</p></dd>

  <dt>data</dt>
<dd><p>The original training and test data (if available).</p></dd>

  <dt>params</dt>
<dd><p>A list of defined control parameters (e.g.; <code>algorithm</code>, <code>goal</code>, <code>sens.w</code>, as well as various thresholds, stopping rule, and cost parameters).</p></dd>

  <dt>cues</dt>
<dd><p>A list of cue information, with further details contained in <code>thresholds</code> and <code>stats</code>.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="print.FFTrees.html">print.FFTrees</a></code> for printing FFTs;
<code><a href="plot.FFTrees.html">plot.FFTrees</a></code> for plotting FFTs;
<code><a href="summary.FFTrees.html">summary.FFTrees</a></code> for summarizing FFTs;
<code><a href="inwords.html">inwords</a></code> for obtaining a verbal description of FFTs;
<code><a href="showcues.html">showcues</a></code> for plotting cue accuracies.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 1. Create fast-and-frugal trees (FFTs) for heart disease:</span></span></span>
<span class="r-in"><span><span class="va">heart.fft</span> <span class="op">&lt;-</span> <span class="fu">FFTrees</span><span class="op">(</span>formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span> <span class="va">.</span>,</span></span>
<span class="r-in"><span>                     data <span class="op">=</span> <span class="va">heart.train</span>,</span></span>
<span class="r-in"><span>                     data.test <span class="op">=</span> <span class="va">heart.test</span>,</span></span>
<span class="r-in"><span>                     main <span class="op">=</span> <span class="st">"Heart Disease"</span>,</span></span>
<span class="r-in"><span>                     decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Healthy"</span>, <span class="st">"Diseased"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                     <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created an FFTrees object.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Ranking 13 cues:  <span style="color: #00BB00;">■■■■■■■■                        </span>  23% | ETA:  1s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Ranking 13 cues:  <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ </span> 100% | ETA:  0s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Ranked 13 cues (optimizing 'bacc').</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created 7 FFTs with 'ifan' algorithm (chasing 'bacc').</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Defined 7 FFTs.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Applied 7 FFTs to 'train' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Ranked 7 FFTs by 'train' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Applied 7 FFTs to 'test' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Expressed 7 FFTs in words.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2. Print a summary of the result:</span></span></span>
<span class="r-in"><span><span class="va">heart.fft</span>  <span class="co"># same as:</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Heart Disease</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #005FAF;">FFTrees </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Trees: 7 fast-and-frugal trees predicting <span style="text-decoration: underline;">diagnosis</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cost of outcomes:  hi = 0,  fa = 1,  mi = 1,  cr = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Cost of cues: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      age      sex       cp trestbps     chol      fbs  restecg  thalach </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        1        1        1        1        1        1        1        1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    exang  oldpeak    slope       ca     thal </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        1        1        1        1        1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #005FAF;">FFT #1: Definition</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] If thal = {rd,fd}, decide Diseased.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] If cp != {a}, decide Healthy.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] If ca &gt; 0, decide Diseased, otherwise, decide Healthy.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #005FAF;">FFT #1: </span><span style="color: #005FAF; text-decoration: underline;">Training</span><span style="color: #005FAF;"> Accuracy</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Training data: N = 150, Pos (+) = 66 (44%) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |          | True + | True - | Totals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |----------|--------|--------|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | Decide + | <span style="color: #767676;">hi</span>  <span style="color: #00AF00;">54</span> | <span style="color: #767676;">fa</span>  <span style="color: #D70000;">18</span> |      72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | Decide - | <span style="color: #767676;">mi</span>  <span style="color: #D70000;">12</span> | <span style="color: #767676;">cr</span>  <span style="color: #00AF00;">66</span> |      78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |----------|--------|--------|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Totals:        66       84   N = <span style="text-decoration: underline;">150</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc  = 80.0%   ppv  = 75.0%   npv  = 84.6%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bacc = 80.2%   sens = 81.8%   spec = 78.6%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #005FAF;">FFT #1: </span><span style="color: #005FAF; text-decoration: underline;">Training</span><span style="color: #005FAF;"> Speed, Frugality, and Cost</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mcu = 1.74,  pci = 0.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cost_dec = 0.200,  cost_cue = 1.740,  cost = 1.940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># print(heart.fft, data = "train", tree = "best.train")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 3. Plot an FFT applied to training data:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">heart.fft</span><span class="op">)</span>  <span class="co"># same as:</span></span></span>
<span class="r-plt img"><img src="FFTrees-1.png" alt="" width="720" height="576"></span>
<span class="r-in"><span><span class="co"># plot(heart.fft, what = "all", data = "train", tree = "best.train")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 4. Apply FFT to (new) testing data:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">heart.fft</span>, data <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span>            <span class="co"># predict for Tree 1</span></span></span>
<span class="r-plt img"><img src="FFTrees-2.png" alt="" width="720" height="576"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">heart.fft</span>, data <span class="op">=</span> <span class="st">"test"</span>, tree <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>  <span class="co"># predict for Tree 2</span></span></span>
<span class="r-plt img"><img src="FFTrees-3.png" alt="" width="720" height="576"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 5. Predict classes and probabilities for new data:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">heart.fft</span>, newdata <span class="op">=</span> <span class="va">heartdisease</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Applied 7 FFTs to 'test' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Generated predictions for tree 1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [13]  TRUE  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [25]  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [49] FALSE FALSE FALSE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61]  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE  TRUE  TRUE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73]  TRUE  TRUE  TRUE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [97]  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121]  TRUE  TRUE FALSE  TRUE FALSE FALSE  TRUE  TRUE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [133] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE  TRUE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [145]  TRUE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [157]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [169]  TRUE FALSE  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181]  TRUE  TRUE FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [193]  TRUE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [205]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [217] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [229]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [241] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [253]  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [265]  TRUE  TRUE FALSE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [277] FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [289]  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [301]  TRUE FALSE FALSE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">heart.fft</span>, newdata <span class="op">=</span> <span class="va">heartdisease</span>, type <span class="op">=</span> <span class="st">"prob"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Applied 7 FFTs to 'test' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Generated predictions for tree 1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 303 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    prob_0 prob_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  0.262  0.738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  0.273  0.727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  0.262  0.738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  0.862  0.138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  0.862  0.138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  0.862  0.138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  0.273  0.727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  0.706  0.294</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  0.262  0.738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  0.262  0.738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 293 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 6. Create a custom tree (from verbal description) with my.tree:</span></span></span>
<span class="r-in"><span><span class="va">custom.fft</span> <span class="op">&lt;-</span> <span class="fu">FFTrees</span><span class="op">(</span></span></span>
<span class="r-in"><span>  formula <span class="op">=</span> <span class="va">diagnosis</span> <span class="op">~</span> <span class="va">.</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">heartdisease</span>,</span></span>
<span class="r-in"><span>  my.tree <span class="op">=</span> <span class="st">"If age &lt; 50, predict False.</span></span></span>
<span class="r-in"><span><span class="st">             If sex = 1, predict True.</span></span></span>
<span class="r-in"><span><span class="st">             If chol &gt; 300, predict True, otherwise predict False."</span>,</span></span>
<span class="r-in"><span>  main <span class="op">=</span> <span class="st">"My custom FFT"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created an FFTrees object.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created an FFT from 'my.tree' description.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Defined 1 FFT.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Applied 1 FFT to 'train' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Ranked 1 FFT by 'train' data.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Expressed 1 FFT in words.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot the (pretty bad) custom tree:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">custom.fft</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="FFTrees-4.png" alt="" width="720" height="576"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Phillips, Hansjoerg Neth, Jan Woike, Wolfgang Gaissmaier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

