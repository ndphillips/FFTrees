<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Examples of FFTrees • FFTrees</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Examples of FFTrees">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FFTrees</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/FFTrees_accuracy_statistics.html">Accuracy statistics in FFTrees</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_examples.html">Examples of FFTrees</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_function.html">Creating FFTs with FFTrees()</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_heart.html">Tutorial: Creating FFTs for heart disease</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_mytree.html">Manually specifying FFTs</a></li>
    <li><a class="dropdown-item" href="../articles/FFTrees_plot.html">Visualising FFTs</a></li>
    <li><a class="dropdown-item" href="../articles/guide.html">Overview: Creating FFTs with FFTrees</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ndphillips/FFTrees/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Examples of FFTrees</h1>
                        <h4 data-toc-skip class="author">Nathaniel
Phillips and Hansjörg Neth</h4>
            
            <h4 data-toc-skip class="date">2024-09-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ndphillips/FFTrees/blob/master/vignettes/FFTrees_examples.Rmd" class="external-link"><code>vignettes/FFTrees_examples.Rmd</code></a></small>
      <div class="d-none name"><code>FFTrees_examples.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="examples-of-ffts-with-fftrees">Examples of FFTs with <strong>FFTrees</strong><a class="anchor" aria-label="anchor" href="#examples-of-ffts-with-fftrees"></a>
</h2>
<p>This vignette illustrates how to construct fast-and-frugal trees
(FFTs) for additional datasets included in the <strong>FFTrees</strong>
package. <span class="citation">(See Phillips et al., 2017, for a
comparison across 10 real-world datasets.)</span></p>
<div class="section level3">
<h3 id="mushrooms-data">Mushrooms data<a class="anchor" aria-label="anchor" href="#mushrooms-data"></a>
</h3>
<p><img src="mushrooms.jpg" width="225px" style="display: block; margin: auto;"></p>
<p>The <code>mushrooms</code> dataset contains data about mushrooms (see
<code><a href="../reference/mushrooms.html">?mushrooms</a></code> for details). The goal of our model is to
predict which mushrooms are <code>poisonous</code> based on 22 cues
ranging from the mushroom’s odor, color, etc.</p>
<p>Here are the first few rows and a subset of 10 potential predictors
of the <code>mushrooms</code> data:</p>
<table class="table">
<caption>
<strong>Table 1</strong>: Binary criterion
variable <code>poisonous</code> and 10 potential predictors in the
<code>mushrooms</code> data.</caption>
<colgroup>
<col width="10%">
<col width="7%">
<col width="9%">
<col width="7%">
<col width="8%">
<col width="5%">
<col width="7%">
<col width="8%">
<col width="9%">
<col width="8%">
<col width="11%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">poisonous</th>
<th align="left">cshape</th>
<th align="left">csurface</th>
<th align="left">ccolor</th>
<th align="left">bruises</th>
<th align="left">odor</th>
<th align="left">vcolor</th>
<th align="left">ringnum</th>
<th align="left">ringtype</th>
<th align="left">sporepc</th>
<th align="left">population</th>
<th align="left">habitat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">TRUE</td>
<td align="left">x</td>
<td align="left">s</td>
<td align="left">n</td>
<td align="left">TRUE</td>
<td align="left">p</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">k</td>
<td align="left">s</td>
<td align="left">u</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">x</td>
<td align="left">s</td>
<td align="left">y</td>
<td align="left">TRUE</td>
<td align="left">a</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">n</td>
<td align="left">n</td>
<td align="left">g</td>
</tr>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">b</td>
<td align="left">s</td>
<td align="left">w</td>
<td align="left">TRUE</td>
<td align="left">l</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">n</td>
<td align="left">n</td>
<td align="left">m</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="left">x</td>
<td align="left">y</td>
<td align="left">w</td>
<td align="left">TRUE</td>
<td align="left">p</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">k</td>
<td align="left">s</td>
<td align="left">u</td>
</tr>
<tr class="odd">
<td align="left">FALSE</td>
<td align="left">x</td>
<td align="left">s</td>
<td align="left">g</td>
<td align="left">FALSE</td>
<td align="left">n</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">e</td>
<td align="left">n</td>
<td align="left">a</td>
<td align="left">g</td>
</tr>
<tr class="even">
<td align="left">FALSE</td>
<td align="left">x</td>
<td align="left">y</td>
<td align="left">y</td>
<td align="left">TRUE</td>
<td align="left">a</td>
<td align="left">w</td>
<td align="left">o</td>
<td align="left">p</td>
<td align="left">k</td>
<td align="left">n</td>
<td align="left">g</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="creating-ffts">Creating FFTs<a class="anchor" aria-label="anchor" href="#creating-ffts"></a>
</h4>
<p>Let’s create some trees using <code><a href="../reference/FFTrees.html">FFTrees()</a></code>! We’ll use the
<code>train.p = .50</code> argument to split the original data into a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>50</mn><annotation encoding="application/x-tex">50</annotation></semantics></math>% training
set and a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>50</mn><annotation encoding="application/x-tex">50</annotation></semantics></math>% testing
set:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create FFTs from the mushrooms data: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># for replicability of the training / test data split</span></span>
<span></span>
<span><span class="va">mushrooms_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">poisonous</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                         data <span class="op">=</span> <span class="va">mushrooms</span>,</span>
<span>                         train.p <span class="op">=</span> <span class="fl">.50</span>,   <span class="co"># split data into 50:50 training/test subsets</span></span>
<span>                         main <span class="op">=</span> <span class="st">"Mushrooms"</span>,</span>
<span>                         decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Safe"</span>, <span class="st">"Poison"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Here’s basic information about the best performing FFT (Tree #1):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print information about the best tree (during training):</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mushrooms_fft</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Mushrooms</span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFTrees </span></span></span>
<span><span class="co">#&gt; - Trees: 6 fast-and-frugal trees predicting <span style="text-decoration: underline;">poisonous</span></span></span>
<span><span class="co">#&gt; - Cost of outcomes:  hi = 0,  fa = 1,  mi = 1,  cr = 0</span></span>
<span><span class="co">#&gt; - Cost of cues: </span></span>
<span><span class="co">#&gt;     cshape   csurface     ccolor    bruises       odor    gattach     gspace </span></span>
<span><span class="co">#&gt;          1          1          1          1          1          1          1 </span></span>
<span><span class="co">#&gt;      gsize     gcolor     sshape      sroot    ssaring    ssbring    scaring </span></span>
<span><span class="co">#&gt;          1          1          1          1          1          1          1 </span></span>
<span><span class="co">#&gt;    scbring      vtype     vcolor    ringnum   ringtype    sporepc population </span></span>
<span><span class="co">#&gt;          1          1          1          1          1          1          1 </span></span>
<span><span class="co">#&gt;    habitat </span></span>
<span><span class="co">#&gt;          1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFT #1: Definition</span></span></span>
<span><span class="co">#&gt; [1] If odor != {f,s,y,p,c,m}, decide Safe.</span></span>
<span><span class="co">#&gt; [2] If sporepc = {h,w,r}, decide Poison, otherwise, decide Safe.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFT #1: </span><span style="color: #005FAF; text-decoration: underline;">Training</span><span style="color: #005FAF;"> Accuracy</span></span></span>
<span><span class="co"><span style="color: #005FAF;">#&gt; </span>Training data: N = 4,062, Pos (+) = 1,958 (48%) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |          | True +   | True -   |   Totals:</span></span>
<span><span class="co">#&gt; |----------|----------|----------|</span></span>
<span><span class="co">#&gt; | Decide + | <span style="color: #767676;">hi</span> <span style="color: #00AF00;">1,683</span> | <span style="color: #767676;">fa</span>     <span style="color: #D70000;">0</span> |     1,683</span></span>
<span><span class="co">#&gt; | Decide - | <span style="color: #767676;">mi</span>   <span style="color: #D70000;">275</span> | <span style="color: #767676;">cr</span> <span style="color: #00AF00;">2,104</span> |     2,379</span></span>
<span><span class="co">#&gt; |----------|----------|----------|</span></span>
<span><span class="co">#&gt;   Totals:       1,958      2,104   N = <span style="text-decoration: underline;">4,062</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; acc  = 93.2%   ppv  = 100.0%   npv  = 88.4%</span></span>
<span><span class="co">#&gt; bacc = 93.0%   sens = 86.0%   spec = 100.0%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #005FAF;">FFT #1: </span><span style="color: #005FAF; text-decoration: underline;">Training</span><span style="color: #005FAF;"> Speed, Frugality, and Cost</span></span></span>
<span><span class="co"><span style="color: #005FAF;">#&gt; </span>mcu = 1.47,  pci = 0.93</span></span>
<span><span class="co">#&gt; cost_dec = 0.068,  cost_cue = 1.469,  cost = 1.537</span></span></code></pre>
<p><a href="https://goo.gl/B7YDuC" class="external-link">Cool beans</a>.</p>
</div>
<div class="section level4">
<h4 id="visualizing-cue-accuracies">Visualizing cue accuracies<a class="anchor" aria-label="anchor" href="#visualizing-cue-accuracies"></a>
</h4>
<p>Let’s look at the individual cue training accuracies with
<code>plot(fft, what = "cues")</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot the cue accuracies of an FFTrees object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mushrooms_fft</span>, what <span class="op">=</span> <span class="st">"cues"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #585858;">Plotting cue training statistics:</span></span></span>
<span><span class="co"><span style="color: #585858;">#&gt; </span><span style="color: #767676;">— Cue accuracies ranked by bacc</span></span></span>
<span><span class="co"><span style="color: #767676;">#&gt; </span></span></span></code></pre>
<p><img src="FFTrees_examples_files/figure-html/fft-mushrooms-1-plot-cues-1.png" width="450px" style="display: block; margin: auto;"></p>
<p>It looks like the cues <code>oder</code> and <code>sporepc</code> are
the best predictors. In fact, the single cue <code>odor</code> has a hit
rate
of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>97</mn><annotation encoding="application/x-tex">97</annotation></semantics></math>%
and a false alarm rate of
nearly <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn><annotation encoding="application/x-tex">0</annotation></semantics></math>%!
Based on this, we should expect the final trees to use just these
cues.</p>
</div>
<div class="section level4">
<h4 id="visualizing-fft-performance">Visualizing FFT performance<a class="anchor" aria-label="anchor" href="#visualizing-fft-performance"></a>
</h4>
<p>Now let’s plot the performance of the best training tree when applied
to the test data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot the best FFT (for test data): </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mushrooms_fft</span>, data <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/fft-mushrooms-1-plot-1.png" width="580px" style="display: block; margin: auto;"></p>
<p>Indeed, it looks like the best tree only uses the <code>odor</code>
and <code>sporepc</code> cues. In our test dataset, the tree had a
<em>false alarm rate</em>
of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn><annotation encoding="application/x-tex">0</annotation></semantics></math>%
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo></mrow><annotation encoding="application/x-tex">1 -</annotation></semantics></math> specificity),
and a <em>sensitivity</em> (aka. hit rate)
of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>85</mn><annotation encoding="application/x-tex">85</annotation></semantics></math>%.</p>
</div>
<div class="section level4">
<h4 id="trading-off-prediction-errors">Trading off prediction errors<a class="anchor" aria-label="anchor" href="#trading-off-prediction-errors"></a>
</h4>
<p>When considering the implications of our predictions, the fact that
our FFT incurs many misses, but no false alarms, is problematic: Given
our current task, failing to detect poisonous mushrooms has usually more
serious consequences than falsely classifying some as poisonous. To
change the balance between both possible errors, we can select another
tree from the set of FFTs. In this case, FFT #2 would use the same two
cues, but alter their exit structure so that our prediction incurs false
alarms, but no misses. Alternatively, we could re-generate a new set of
FFTs with a higher sensitivity weight value (e.g., increase the default
value of <code>sens.w = .50</code> to <code>sens.w = .67</code>) and
optimize the FFTs’ weighted accuracy <code>wacc</code>.</p>
</div>
<div class="section level4">
<h4 id="an-alternative-fft">An alternative FFT<a class="anchor" aria-label="anchor" href="#an-alternative-fft"></a>
</h4>
<p>Let’s assume that a famous mushroom expert insists that our FFT is
using the wrong cues. According to her, the best predictors for
poisonous mushrooms are <code>ringtype</code> and <code>ringnum</code>.
To test this, we build a set of FFTs from only these cues and check how
they perform relative to our initial tree:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create trees using only the ringtype and ringnum cues: </span></span>
<span><span class="va">mushrooms_ring_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">poisonous</span> <span class="op">~</span> <span class="va">ringtype</span> <span class="op">+</span> <span class="va">ringnum</span>,</span>
<span>                              data <span class="op">=</span> <span class="va">mushrooms</span>,</span>
<span>                              train.p <span class="op">=</span> <span class="fl">.50</span>,</span>
<span>                              main <span class="op">=</span> <span class="st">"Mushrooms (ring cues)"</span>,</span>
<span>                              decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Safe"</span>, <span class="st">"Poison"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Again, we plot the best training tree, when predicting the cases in
the test dataset:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plotting the best training FFT (for test data): </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mushrooms_ring_fft</span>, data <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/fft-mushrooms-2-plot-1.png" width="580px" style="display: block; margin: auto;"></p>
<!-- Conclusion: -->
<p>As we can see, this tree (in <code>mushrooms_ring_fft</code>) has
both sensitivity and specificity values of
around <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>80</mn><annotation encoding="application/x-tex">80</annotation></semantics></math>%,
but does not perform as well as our earlier one (in
<code>mushrooms_fft</code>). This suggests that we should discard the
expert’s advice and primarily rely on the <code>odor</code>
and <code>sporepc</code> cues.</p>
</div>
</div>
<div class="section level3">
<h3 id="iris-v-data">Iris.v data<a class="anchor" aria-label="anchor" href="#iris-v-data"></a>
</h3>
<p><img src="virginica.jpg" width="225px" style="display: block; margin: auto;"></p>
<p>The <code>iris.v</code> dataset contains data about 150 flowers (see
<code><a href="../reference/iris.v.html">?iris.v</a></code>). Our goal is to predict which flowers are of the
class <em>Virginica</em>. In this example, we’ll create trees using the
entire dataset (without splitting the available data into explicit
training vs. test subsets), so that we are really fitting the data,
rather than engaging in genuine prediction:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create FFTrees object for iris data:</span></span>
<span><span class="va">iris_fft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FFTrees.html">FFTrees</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">virginica</span> <span class="op">~</span><span class="va">.</span>,</span>
<span>                    data <span class="op">=</span> <span class="va">iris.v</span>,</span>
<span>                    main <span class="op">=</span> <span class="st">"Iris viginica"</span>,</span>
<span>                    decision.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Not-Vir"</span>, <span class="st">"Vir"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The <strong>FFTrees</strong> package provides various functions to
inspect the <code>FFTrees</code> object <code>iris_fft</code>. For
summary information on the best training tree, we can print the
<code>FTrees</code> object (by evaluating <code>iris_fft</code> or
<code>print(iris_fft)</code>). Alternatively, we could visualize the
tree (via <code>plot(iris_fft)</code>) or summarize the
<code>FFTrees</code> object (via <code>summary(iris_fft)</code>):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect resulting FFTs: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span>    <span class="co"># summarize best training tree</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span>     <span class="co"># visualize best training tree</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span>  <span class="co"># summarize FFTrees object</span></span></code></pre></div>
<p>However, let’s first take a look at the individual training cue
accuracies…</p>
<div class="section level4">
<h4 id="visualizing-cue-accuracies-1">Visualizing cue accuracies<a class="anchor" aria-label="anchor" href="#visualizing-cue-accuracies-1"></a>
</h4>
<p>We can plot the training cue accuracies during training by specifying
<code>what = "cues"</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot cue values: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span>, what <span class="op">=</span> <span class="st">"cues"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #585858;">Plotting cue training statistics:</span></span></span>
<span><span class="co"><span style="color: #585858;">#&gt; </span><span style="color: #767676;">— Cue accuracies ranked by bacc</span></span></span>
<span><span class="co"><span style="color: #767676;">#&gt; </span></span></span></code></pre>
<p><img src="FFTrees_examples_files/figure-html/iris-plot-cues-1.png" width="450px" style="display: block; margin: auto;"></p>
<p>It looks like the two cues <code>pet.len</code>
and <code>pet.wid</code> are the best predictors for this dataset. Based
on this insight, we should expect the final trees will likely use one or
both of these cues.</p>
</div>
<div class="section level4">
<h4 id="visualizing-fft-performance-1">Visualizing FFT performance<a class="anchor" aria-label="anchor" href="#visualizing-fft-performance-1"></a>
</h4>
<p>Now let’s visualize the best tree:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot best FFT: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/iris-plot-fft-1.png" width="580px" style="display: block; margin: auto;"></p>
<p>Indeed, it turns out that the best tree only uses
the <code>pet.len</code> and <code>pet.wid</code> cues (in that order).
For this data, the fitted tree exhibits a performance with a sensitivity
of 100% and a specificity of 94%.</p>
</div>
<div class="section level4">
<h4 id="viewing-alternative-ffts">Viewing alternative FFTs<a class="anchor" aria-label="anchor" href="#viewing-alternative-ffts"></a>
</h4>
<p>Now, this tree did quite well, but what if someone wanted a tree with
the lowest possible false alarm rate? If we inspect the ROC plot in the
bottom right corner of the figure, we see that Tree #2 has a specificity
close to 100%. Let’s plot this tree:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot FFT #2: </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris_fft</span>, tree <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="FFTrees_examples_files/figure-html/iris-plot-fft-2-1.png" width="580px" style="display: block; margin: auto;"></p>
<p>As we can see, this tree does indeed have a higher specificity
(of 98%), but this increase comes at a cost of a lower sensitivity
(of 90%). Such trade-offs between conflicting measures are inevitable
when fitting and predicting real-world data. Importantly, using FFTs and
the <strong>FFTrees</strong> package help us to render such trade-offs
more transparent.</p>
</div>
</div>
<div class="section level3">
<h3 id="titanic-data">Titanic data<a class="anchor" aria-label="anchor" href="#titanic-data"></a>
</h3>
<p>For examples that predict people’s survival of the <em>Titanic</em>
disaster (by growing FFTs for the <code>titanic</code> data), see the <a href="FFTrees_plot.html">Visualizing FFTs</a> vignette.</p>
</div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<!-- Table of all vignettes: -->
<p>Here is a complete list of the vignettes available in the
<strong>FFTrees</strong> package:</p>
<table class="table">
<colgroup>
<col width="3%">
<col width="36%">
<col width="59%">
</colgroup>
<thead><tr class="header">
<th align="right"></th>
<th align="left">Vignette</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right"></td>
<td align="left"><a href="guide.html">Main guide: FFTrees
overview</a></td>
<td align="left">An overview of the <strong>FFTrees</strong>
package</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left"><a href="FFTrees_heart.html">Tutorial: FFTs for heart
disease</a></td>
<td align="left">An example of using <code><a href="../reference/FFTrees.html">FFTrees()</a></code> to model
heart disease diagnosis</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left"><a href="FFTrees_accuracy_statistics.html">Accuracy
statistics</a></td>
<td align="left">Definitions of accuracy statistics used throughout the
package</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left"><a href="FFTrees_function.html">Creating FFTs with
FFTrees()</a></td>
<td align="left">Details on the main <code><a href="../reference/FFTrees.html">FFTrees()</a></code>
function</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left"><a href="FFTrees_mytree.html">Manually specifying
FFTs</a></td>
<td align="left">How to directly create FFTs without using the built-in
algorithms</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left"><a href="FFTrees_plot.html">Visualizing FFTs</a></td>
<td align="left">Plotting <code>FFTrees</code> objects, from full trees
to icon arrays</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left"><a href="FFTrees_examples.html">Examples of
FFTs</a></td>
<td align="left">Examples of FFTs from different datasets contained in
the package</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<!-- eof. -->
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-phillips2017FFTrees" class="csl-entry">
Phillips, N. D., Neth, H., Woike, J. K., &amp; Gaissmaier, W. (2017).
<span class="nocase">FFTrees: A toolbox to create, visualize, and
evaluate fast-and-frugal decision trees</span>. <em>Judgment and
Decision Making</em>, <em>12</em>(4), 344–368. <a href="https://doi.org/10.1017/S1930297500006239" class="external-link">https://doi.org/10.1017/S1930297500006239</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Phillips, Hansjoerg Neth, Jan Woike, Wolfgang Gaissmaier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
